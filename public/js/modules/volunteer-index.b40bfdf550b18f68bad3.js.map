{"version":3,"sources":["webpack:///./resources/js/components/volunteers/VolunteerIndex.vue?0a12","webpack:///./resources/js/http/query_string_from_params.js","webpack:///./resources/js/components/volunteers/VolunteerIndex.vue?40c6","webpack:///./resources/js/resources/volunteers/get_all_volunteer_types.js","webpack:///./resources/js/components/volunteers/VolunteerIndex.vue","webpack:///./resources/js/resources/volunteers/get_all_volunteers.js","webpack:///./resources/js/resources/volunteers/get_page_of_volunteers.js","webpack:///./resources/js/components/assignments/AssignmentBriefList.vue?e205","webpack:///resources/js/components/assignments/AssignmentBriefList.vue","webpack:///./resources/js/components/assignments/AssignmentBriefList.vue?4e24","webpack:///./resources/js/components/assignments/AssignmentBriefList.vue","webpack:///resources/js/components/reports/AssignmentsReportButton.vue","webpack:///./resources/js/components/reports/AssignmentsReportButton.vue?31cb","webpack:///./resources/js/components/reports/AssignmentsReportButton.vue?6277","webpack:///./resources/js/components/reports/AssignmentsReportButton.vue","webpack:///resources/js/components/volunteers/VolunteerIndex.vue","webpack:///./resources/js/components/volunteers/VolunteerIndex.vue?bb1b","webpack:///./resources/js/components/volunteers/VolunteerIndex.vue?53dd","webpack:///./resources/js/components/volunteers/VolunteerIndex.vue?456e"],"names":["queryStringFromParams","params","paginate","parsedParams","Object","keys","includes","filter","rest","queryStringParts","push","currentPage","param","undefined","Array","isArray","forEach","val","encodeURIComponent","join","module","exports","i","getAllVolunteerTypes","data","JSON","parse","localStorage","getItem","window","axios","get","then","response","setItem","stringify","getPageOfVolunteers","url","props","assignments","type","methods","primaryAptitudeGranted","_vm","this","_c","_self","staticClass","_l","ass","idx","key","_v","_s","assignable","name","sub_assignments","length","map","p","_e","sortBy","sortDesc","value","filters","filterToLabel","computed","assignmentReportUrl","console","hasFilters","activeFilters","reduce","obj","attrs","scopedSlots","_u","fn","_f","proxy","components","AssignmentBriefList","AssignmentsReportButton","listType","volunteers","loadingVolunteers","showAssignmentModal","currentVolunteer","tableFields","label","sortable","volunteerTypes","volunteerStatuses","activities","panels","searchTerm","volunteer_type_id","volunteer_status_id","curation_activity_id","curation_group_id","totalRows","pageLength","sortKey","fields","filteredCurationGroups","watch","handler","deep","setFiltersForListType","clearFilters","reconcileFilters","volunteerProvider","context","callback","handleSortChanged","handleFiltered","updateCurrentVolunteer","findVolunteer","addAssignmentsToVolunteer","resetCurrentPage","getCurationActivities","getAllCurationActivities","getCurationGroups","getAllCurationGroups","getStatuses","getAllVolunteerStatuses","getTypes","navigateToVolunteer","syncFiltersFromLocalStorage","syncListTypeFromLocalStorage","mounted","directives","rawName","expression","on","$event","$$selectedVal","prototype","call","target","options","o","selected","_value","multiple","model","$$v","$set","class","active","domProps","id","status","activity","staticStyle","panel","ref","item","email","priorities","priority","curation_activity","curation_group","created_at","content","transform","locals"],"mappings":";8FAAA,W,gtCCgCeA,IAhCe,WAAiC,IAAvBC,EAAS,UAAH,6CAAG,GAAIC,EAAQ,uCACrDC,EAAeF,EACnB,GAAIG,OAAOC,KAAKJ,GAAQK,SAAS,UAAW,CACxC,IAAKC,EAAmBN,EAAnBM,OAAWC,EAAI,EAAIP,EAAM,GAC9BE,EAAe,EAAH,KAAOI,GAAWC,GAGlC,IAAIC,EAAmB,GACnBP,GACAO,EAAiBC,KAAK,SAAWP,EAAaQ,YAAcR,EAAaQ,YAAc,WAGnFR,EAAaQ,YAAY,eAExBC,GACL,GAA4B,OAAxBT,EAAaS,SAA2CC,IAAxBV,EAAaS,GAC7C,iBAGAE,MAAMC,QAAQZ,EAAaS,IAC3BT,EAAaS,GAAOI,SAAQ,SAAAC,GACxBR,EAAiBC,KAAKQ,mBAAmBN,GAAS,MAAQM,mBAAmBD,OAGjFR,EAAiBC,KAAKQ,mBAAmBN,GAAS,IAAMM,mBAAmBf,EAAaS,MAVhG,IAAK,IAAIA,KAAST,EAAc,EAAvBS,GAeT,OAAOH,EAAiBU,KAAK,O,sKC7BvBC,EAAOC,QAAU,EAAQ,OAAR,EAA+D,IAKlFX,KAAK,CAACU,EAAOE,EAAI,qDAAsD,M,oRCJ/E,i5MADA,IAAMC,EAAoB,eAC1B,EAD0B,GAC1B,EAD0B,UAAG,oFACqC,GAA1DC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,oBAEhC,CAAF,+BACQC,OAAOC,MAAMC,IAAI,wBAAwBC,MAAK,SAAAC,GAEvD,OADAN,aAAaO,QAAQ,kBAAmBT,KAAKU,UAAUF,EAAST,KAAKA,OAC9DS,EAAST,KAAKA,QACvB,OAHFA,EAAO,EAAH,qCAMDA,GAAI,0CATf,+KAUC,kBAXyB,mCAaXD,O,yCCbf,I,YCEA,I,YCKea,EALa,SAAUnC,GAClC,IAAMoC,EAAM,mBAA0BrC,YAAsBC,GAAQ,GACpE,OAAO4B,OAAOC,MAAMC,IAAIM,I,gDCJ6L,ECe1M,CACfC,OACAC,aACAC,WACA,aAGAC,SACAC,mCACA,2F,YCNe,EAXC,YACd,GCRW,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACE,YAAY,iBAAiBJ,EAAIK,GAAIL,EAAIJ,aAAa,SAASU,EAAIC,GAAK,OAAOL,EAAG,KAAK,CAACM,IAAID,GAAK,CAACP,EAAIS,GAAG,aAAaT,EAAIU,GAAGJ,EAAIK,WAAWC,MAAM,cAAeN,EAAIO,gBAAgBC,OAAS,EAAGZ,EAAG,QAAQ,CAACF,EAAIS,GAAG,iCAAiCP,EAAG,OAAO,CAACF,EAAIS,GAAG,qBAAqBT,EAAIU,GAAGJ,EAAIO,gBAAgBE,KAAI,SAAAC,GAAC,OAAIA,EAAEL,WAAWC,QAAMpC,KAAK,OAAO,sBAAsBwB,EAAIiB,UAAS,KAExb,IDSpB,EACA,KACA,KACA,M,+rBEWa,ICzB8M,EDyB9M,CACftB,OACA/B,QACAiC,YACA,mBACA,WAGAqB,QACArB,YACA,qBAEAsB,UACAtB,aACAuB,WAGAvC,gBACA,UAIAwC,SACAC,0BACA,mBACA,eAEA,2CACA,8CAGAC,UACAC,+BACA,IACA,0DAAAN,mBAAAC,0BAEA,OADAM,eACA,GAEAC,sBAAA,WACA,4GAEAC,yBAAA,WACA,gCACA/D,oBAAA,+CACAgE,sBAEA,OADAC,iBACA,IACA,MAGA/B,YEzDe,EAXC,YACd,GCRW,WAAkB,IAAIE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,yBAAyB0B,MAAM,CAAC,KAAO9B,EAAIwB,oBAAoB,GAAK,uBAAuB,CAACxB,EAAIS,GAAG,0CAA2CT,EAAI0B,WAAYxB,EAAG,OAAO,CAACF,EAAIS,GAAG,OAAOT,EAAIiB,OAAOjB,EAAIS,GAAG,KAAMT,EAAI0B,WAAYxB,EAAG,YAAY,CAAC4B,MAAM,CAAC,OAAS,qBAAqB,SAAW,SAASC,YAAY/B,EAAIgC,GAAG,CAAC,CAACxB,IAAI,QAAQyB,GAAG,WAAW,MAAO,CAAC/B,EAAG,QAAQ,CAACF,EAAIS,GAAG,uEAAuEP,EAAG,KAAKF,EAAIK,GAAIL,EAAI2B,eAAe,SAASP,EAAMR,GAAM,OAAOV,EAAG,KAAK,CAACM,IAAII,GAAM,CAACZ,EAAIS,GAAG,6BAA6BT,EAAIU,GAAGV,EAAIkC,GAAG,gBAAPlC,CAAwBY,IAAO,+BAA8B,OAAOuB,OAAM,IAAO,MAAK,EAAM,cAAcnC,EAAIiB,MAAM,KAEvvB,IDSpB,EACA,KACA,KACA,M,oQEkKF,4sNAaA,IC7LoN,ED6LpN,CACAmB,YACAC,sBACAC,2BAEAzD,gBACA,OACA0D,sBACAC,cACAC,qBACAC,uBACAC,sBACAC,aACA,CACApC,SACAqC,WACAC,aACA,GAEAtC,iBACAqC,cACAC,aAAA,MACA,iBAGAtC,gBACAqC,aACAC,aAAA,MACA,gBAGAtC,YACAqC,cACAC,aAAA,MACA,YAGAtC,WACAqC,aACAC,aAAA,MACA,uBAEA,CACAD,eACAC,YACAtC,6BAEA,CACAA,kBACAsC,cAGAC,kBACAC,qBACAC,cACAC,UACA7B,SACA8B,gBACAC,uBACAC,yBACAC,0BACAC,wBAEAC,YACAC,cACAzF,cACA0F,aACAvC,cAGAI,UACAoC,kBACA,mDAgBA,OAfA,uCAEAA,kCAAA,yCACAA,QACAd,mBACAC,YACAtC,0BAEAmD,UACAd,qBACAC,YACAtC,kBAAA,YACA,KAGA,GAEAmB,yBAAA,WACA,iCACA/D,oBAAA,8BACAgE,sBAEA,OADAC,kBACA,IACA,KAEA+B,kCAAA,WACA,mBAGA,kCACA,iGAEA,YALA,KAQAC,OACAxC,SACAyC,sBACA9E,+EAEA+E,SAEAxB,oBACAvD,iFACA,+BAGAc,SACAkE,iCACA,6BACA,oBACA,sCAEA,qBAGAC,wBACA,cACAd,gBACAC,uBACAC,yBACAC,0BACAC,yBAGAW,4BACA,oCACA,uCACA,sCAGAC,gCAAA,YAEA,uCACAC,QACA,aACA,8BACA,6BAIA3E,KACAJ,kBACA,8BACAgF,mBAIAC,6BACA,yBAEAC,0BACA,yBAEAC,kCAAA,4GACA,kDACAC,mCAAA,2EAFA,IAIAC,sCAAA,4HACAD,kBAAA,iCACA,mEAFA,IAIAE,4BACA,oBAEAC,iCAAA,4HACAC,cAAA,qEADA,IAGAC,6BAAA,4HACAC,cAAA,iEADA,IAGAC,uBAAA,4HACAC,cAAA,4EADA,IAGAC,oBAAA,4HACAtG,cAAA,yEADA,IAGAuG,gCACA1D,mCACAvC,qCAEAkG,uCACA,mEACA,IACA,iBAGAC,wCACA,qEACA5D,iCACA,IACA,mBAIA6D,mBAEA,6BACA,yBACA,mBACA,gBACA,mCACA,oCACA,+BE7YI,G,UAAY,YACd,GbTW,WAAkB,IAAItF,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACJ,EAAIS,GAAG,8EAA8EP,EAAG,cAAc,CAAC4B,MAAM,CAAC,YAAY,4CAA4C,MAAQ,sCAAsC,GAAG9B,EAAIS,GAAG,KAAKP,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,4BAA4B,CAACE,YAAY,OAAO0B,MAAM,CAAC,OAAS9B,EAAIqB,QAAQ,UAAUrB,EAAI0D,QAAQ,YAAY1D,EAAImB,aAAa,GAAGnB,EAAIS,GAAG,KAAKP,EAAG,KAAK,CAACA,EAAG,SAAS,CAACqF,WAAW,CAAC,CAAC3E,KAAK,QAAQ4E,QAAQ,UAAUpE,MAAOpB,EAAIuC,SAAUkD,WAAW,aAAarF,YAAY,gBAAgBsF,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBzH,MAAM0H,UAAUjI,OAAOkI,KAAKH,EAAOI,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWnF,KAAI,SAASkF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEE,OAASF,EAAE7E,SAAoBpB,EAAIuC,SAASoD,EAAOI,OAAOK,SAAWR,EAAgBA,EAAc,MAAM,CAAC1F,EAAG,SAAS,CAAC4B,MAAM,CAAC,MAAQ,eAAe,CAAC9B,EAAIS,GAAG,2BAA2BT,EAAIS,GAAG,KAAKP,EAAG,SAAS,CAAC4B,MAAM,CAAC,MAAQ,QAAQ,CAAC9B,EAAIS,GAAG,0BAA0BT,EAAIS,GAAG,KAAKP,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,wDAAwD,CAACF,EAAG,QAAQ,CAAC4B,MAAM,CAAC,IAAM,iBAAiB,CAAC9B,EAAIS,GAAG,aAAaT,EAAIS,GAAG,iDAAiDP,EAAG,eAAe,CAACE,YAAY,yCAAyC0B,MAAM,CAAC,SAAW,MAAM,KAAO,OAAO,YAAc,cAAc,GAAK,gBAAgBuE,MAAM,CAACjF,MAAOpB,EAAIqB,QAAQ8B,WAAYkB,SAAS,SAAUiC,GAAMtG,EAAIuG,KAAKvG,EAAIqB,QAAS,aAAciF,IAAMb,WAAW,yBAAyB,GAAGzF,EAAIS,GAAG,KAAsB,OAAhBT,EAAIuC,SAAmBrC,EAAG,MAAM,CAAC4B,MAAM,CAAC,GAAK,0BAA0B,CAAC5B,EAAG,SAAS,CAACqF,WAAW,CAAC,CAAC3E,KAAK,QAAQ4E,QAAQ,UAAUpE,MAAOpB,EAAIqB,QAAQ+B,kBAAmBqC,WAAW,8BAA8BrF,YAAY,+BAA+BoG,MAAM,CAACC,OAAQzG,EAAIqB,QAAQ+B,mBAAmBtB,MAAM,CAAC,GAAK,eAAe4D,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAIC,EAAgBzH,MAAM0H,UAAUjI,OAAOkI,KAAKH,EAAOI,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWnF,KAAI,SAASkF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEE,OAASF,EAAE7E,SAAoBpB,EAAIuG,KAAKvG,EAAIqB,QAAS,oBAAqBsE,EAAOI,OAAOK,SAAWR,EAAgBA,EAAc,KAAK5F,EAAIkE,oBAAoB,CAAChE,EAAG,SAAS,CAACwG,SAAS,CAAC,MAAQ,OAAO,CAAC1G,EAAIS,GAAG,cAAcT,EAAIS,GAAG,KAAKT,EAAIK,GAAIL,EAAI+C,gBAAgB,SAASlD,EAAKU,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAImG,SAAS,CAAC,MAAQ7G,EAAK8G,KAAK,CAAC3G,EAAIS,GAAG,iCAAiCT,EAAIU,GAAGb,EAAKe,MAAM,oCAAmC,KAAKZ,EAAIiB,KAAKjB,EAAIS,GAAG,KAAKP,EAAG,MAAM,CAAC4B,MAAM,CAAC,GAAK,4BAA4B,CAAC5B,EAAG,SAAS,CAACqF,WAAW,CAAC,CAAC3E,KAAK,QAAQ4E,QAAQ,UAAUpE,MAAOpB,EAAIqB,QAAQgC,oBAAqBoC,WAAW,gCAAgCrF,YAAY,+BAA+BoG,MAAM,CAACC,OAAQzG,EAAIqB,QAAQgC,qBAAqBvB,MAAM,CAAC,GAAK,iBAAiB4D,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBzH,MAAM0H,UAAUjI,OAAOkI,KAAKH,EAAOI,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWnF,KAAI,SAASkF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEE,OAASF,EAAE7E,SAAoBpB,EAAIuG,KAAKvG,EAAIqB,QAAS,sBAAuBsE,EAAOI,OAAOK,SAAWR,EAAgBA,EAAc,OAAO,CAAC1F,EAAG,SAAS,CAACwG,SAAS,CAAC,MAAQ,OAAO,CAAC1G,EAAIS,GAAG,gBAAgBT,EAAIS,GAAG,KAAKT,EAAIK,GAAIL,EAAIgD,mBAAmB,SAAS4D,EAAOrG,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAImG,SAAS,CAAC,MAAQE,EAAOD,KAAK,CAAC3G,EAAIS,GAAG,iCAAiCT,EAAIU,GAAGkG,EAAOhG,MAAM,oCAAmC,KAAKZ,EAAIS,GAAG,KAAsB,OAAhBT,EAAIuC,SAAmBrC,EAAG,MAAM,CAAC4B,MAAM,CAAC,GAAK,uCAAuC,CAAC5B,EAAG,SAAS,CAACqF,WAAW,CAAC,CAAC3E,KAAK,QAAQ4E,QAAQ,UAAUpE,MAAOpB,EAAIqB,QAAQiC,qBAAsBmC,WAAW,iCAAiCrF,YAAY,+BAA+BoG,MAAM,CAACC,OAAQzG,EAAIqB,QAAQiC,sBAAsBxB,MAAM,CAAC,GAAK,kBAAkB,SAA4C,GAAjC9B,EAAIqB,QAAQ+B,mBAAwBsC,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBzH,MAAM0H,UAAUjI,OAAOkI,KAAKH,EAAOI,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWnF,KAAI,SAASkF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEE,OAASF,EAAE7E,SAAoBpB,EAAIuG,KAAKvG,EAAIqB,QAAS,uBAAwBsE,EAAOI,OAAOK,SAAWR,EAAgBA,EAAc,OAAO,CAAC1F,EAAG,SAAS,CAACwG,SAAS,CAAC,MAAQ,OAAO,CAAC1G,EAAIS,GAAG,kBAAkBT,EAAIS,GAAG,KAAKT,EAAIK,GAAIL,EAAIiD,YAAY,SAAS4D,EAAStG,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAImG,SAAS,CAAC,MAAQG,EAASF,KAAK,CAAC3G,EAAIS,GAAG,iCAAiCT,EAAIU,GAAGmG,EAASjG,MAAM,mCAAkCZ,EAAIS,GAAG,KAAKP,EAAG,SAAS,CAACwG,SAAS,CAAC,OAAS,IAAI,CAAC1G,EAAIS,GAAG,+BAA+B,KAAKT,EAAIiB,KAAKjB,EAAIS,GAAG,KAAsB,OAAhBT,EAAIuC,SAAmBrC,EAAG,MAAM,CAAC4B,MAAM,CAAC,GAAK,oCAAoC,CAAC5B,EAAG,SAAS,CAACqF,WAAW,CAAC,CAAC3E,KAAK,QAAQ4E,QAAQ,UAAUpE,MAAOpB,EAAIqB,QAAQkC,kBAAmBkC,WAAW,8BAA8BrF,YAAY,+BAA+BoG,MAAM,CAACC,OAAQzG,EAAIqB,QAAQkC,mBAAmBuD,YAAY,CAAC,YAAY,SAAShF,MAAM,CAAC,GAAK,eAAe,SAA4C,GAAjC9B,EAAIqB,QAAQ+B,mBAAwBsC,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBzH,MAAM0H,UAAUjI,OAAOkI,KAAKH,EAAOI,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWnF,KAAI,SAASkF,GAAgD,MAAnC,WAAYA,EAAIA,EAAEE,OAASF,EAAE7E,SAAoBpB,EAAIuG,KAAKvG,EAAIqB,QAAS,oBAAqBsE,EAAOI,OAAOK,SAAWR,EAAgBA,EAAc,OAAO,CAAC1F,EAAG,SAAS,CAACwG,SAAS,CAAC,MAAQ,OAAO,CAAC1G,EAAIS,GAAG,wBAAwBT,EAAIS,GAAG,KAAKP,EAAG,SAAS,CAACwG,SAAS,CAAC,OAAS,IAAI,CAAC1G,EAAIS,GAAG,oCAAoCT,EAAIS,GAAG,KAAKT,EAAIK,GAAIL,EAAI4D,wBAAwB,SAASmD,EAAMxG,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAImG,SAAS,CAAC,MAAQK,EAAMJ,KAAK,CAAC3G,EAAIS,GAAG,iCAAiCT,EAAIU,GAAGqG,EAAMnG,MAAM,oCAAmC,KAAKZ,EAAIiB,KAAKjB,EAAIS,GAAG,KAAKP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,eAAe,CAACE,YAAY,mBAAmB0B,MAAM,CAAC,KAAO,KAAK,wBAAwB,GAAG,aAAa9B,EAAIwD,UAAU,WAAWxD,EAAIyD,YAAY4C,MAAM,CAACjF,MAAOpB,EAAIhC,YAAaqG,SAAS,SAAUiC,GAAMtG,EAAIhC,YAAYsI,GAAKb,WAAW,kBAAkB,KAAKzF,EAAIS,GAAG,KAAKP,EAAG,UAAU,CAAC8G,IAAI,kBAAkBlF,MAAM,CAAC,MAAQ9B,EAAImE,kBAAkB,OAASnE,EAAI2D,OAAO,UAAU3D,EAAI0D,QAAQ,YAAY1D,EAAImB,SAAS,oBAAmB,EAAK,cAAa,EAAK,OAASnB,EAAIqB,QAAQ,eAAerB,EAAIhC,YAAY,KAAOgC,EAAIyC,mBAAmBiD,GAAG,CAAC,gBAAgB,SAASC,GAAQ3F,EAAI0D,QAAQiC,GAAQ,iBAAiB,SAASA,GAAQ3F,EAAI0D,QAAQiC,GAAQ,kBAAkB,SAASA,GAAQ3F,EAAImB,SAASwE,GAAQ,mBAAmB,SAASA,GAAQ3F,EAAImB,SAASwE,GAAQ,eAAe3F,EAAIsE,kBAAkB,cAAc,SAASqB,GAAQ3F,EAAIyC,kBAAkBkD,GAAQ,cAAc3F,EAAImF,qBAAqBpD,YAAY/B,EAAIgC,GAAG,CAAC,CAACxB,IAAI,WAAWyB,GAAG,YAAgB,IAANgF,EAAI,EAAJA,KAAO,MAAO,CAAC/G,EAAG,IAAI,CAAC4B,MAAM,CAAC,KAAO,eAAemF,EAAKN,KAAK,CAAC3G,EAAIS,GAAGT,EAAIU,GAAGuG,EAAKN,UAAU,CAACnG,IAAI,aAAayB,GAAG,YAAgB,IAANgF,EAAI,EAAJA,KAAO,MAAO,CAAC/G,EAAG,IAAI,CAAC4B,MAAM,CAAC,KAAO,eAAemF,EAAKN,KAAK,CAAC3G,EAAIS,GAAGT,EAAIU,GAAGuG,EAAKrG,YAAY,CAACJ,IAAI,cAAcyB,GAAG,YAAgB,IAANgF,EAAI,EAAJA,KAAO,MAAO,CAAC/G,EAAG,IAAI,CAAC4B,MAAM,CAAC,KAAO,eAAemF,EAAKN,KAAK,CAAC3G,EAAIS,GAAGT,EAAIU,GAAGuG,EAAKC,aAAa,CAAC1G,IAAI,oBAAoByB,GAAG,YAAgB,IAANgF,EAAI,EAAJA,KAAO,MAAO,CAAEA,GAAQA,EAAKrH,YAAYkB,OAAS,EAAGZ,EAAG,wBAAwB,CAAC4B,MAAM,CAAC,YAAcmF,EAAKrH,eAAeI,EAAIiB,KAAKjB,EAAIS,GAAG,KAAiC,GAA3BwG,EAAKrH,YAAYkB,SAAoD,GAArCd,EAAIqB,QAAQiC,qBAA4BpD,EAAG,SAAS,CAACE,YAAY,8BAA8BsF,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO3F,EAAI0E,0BAA0BuC,MAAS,CAACjH,EAAIS,GAAG,YAAYT,EAAIiB,QAAQ,CAACT,IAAI,0BAA0ByB,GAAG,YAAgB,IAANgF,EAAI,EAAJA,KAAO,MAAO,CAAC/G,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQJ,EAAIK,GAAI4G,EAAKE,YAAY,SAASC,GAAU,OAAOlH,EAAG,KAAK,CAACM,IAAI4G,EAAST,IAAI,CAAC3G,EAAIS,GAAG,qCAAqCT,EAAIU,GAAG0G,EAASC,kBAAkBzG,MAAM,sCAAuCwG,EAASE,eAAgBpH,EAAG,OAAO,CAACF,EAAIS,GAAG,2CAA2CT,EAAIU,GAAG0G,EAASE,eAAe1G,MAAM,wCAAwCZ,EAAIiB,UAAS,QAAQ,CAACT,IAAI,mBAAmByB,GAAG,YAAgB,IAANgF,EAAI,EAAJA,KAAO,MAAO,CAACjH,EAAIS,GAAG,yBAAyBT,EAAIU,GAAGV,EAAIkC,GAAG,aAAPlC,CAAqBiH,EAAKM,WAAW,eAAe,8BAA8B,GAAGvH,EAAIS,GAAG,KAAKP,EAAG,UAAU,CAAC4B,MAAM,CAAC,cAAc,GAAG,cAAc,IAAIuE,MAAM,CAACjF,MAAOpB,EAAI0C,oBAAqB2B,SAAS,SAAUiC,GAAMtG,EAAI0C,oBAAoB4D,GAAKb,WAAW,wBAAwB,CAACvF,EAAG,kBAAkB,CAAC4B,MAAM,CAAC,UAAY9B,EAAI2C,iBAAiB,cAAgB,IAAI+C,GAAG,CAAC,MAAQ1F,EAAIwE,2BAA2B,IAAI,OAEz+Q,IaUpB,EACA,KACA,KACA,OAIa,Y,8BClBf,IAAIgD,EAAU,EAAQ,QAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAC/I,EAAOE,EAAI6I,EAAS,MAOhE,IAAIxB,EAAU,CAAC,KAAM,EAErB,eAPIyB,EAQJ,gBAAqBvJ,GAER,EAAQ,OAAR,CAAmEsJ,EAASxB,GAEtFwB,EAAQE,SAAQjJ,EAAOC,QAAU8I,EAAQE","file":"js/modules/volunteer-index.b40bfdf550b18f68bad3.js","sourcesContent":["export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolunteerIndex.vue?vue&type=style&index=0&id=444a6cd5&prod&lang=css&\"","const queryStringFromParams = function (params = {}, paginate) {\n    let parsedParams = params;\n    if (Object.keys(params).includes('filter')) {\n        let {filter, ...rest} = params;\n        parsedParams = {...filter, ...rest};\n    }\n\n    let queryStringParts = [];\n    if (paginate) {\n        queryStringParts.push('page=' + (parsedParams.currentPage ? parsedParams.currentPage : 1))\n    }\n\n    delete (parsedParams.currentPage)\n    \n    for (let param in parsedParams) {\n        if (parsedParams[param] === null || parsedParams[param] === undefined) {\n            continue;\n        }\n\n        if (Array.isArray(parsedParams[param]) ) {\n            parsedParams[param].forEach(val => {\n                queryStringParts.push(encodeURIComponent(param) + '[]=' + encodeURIComponent(val));\n            })\n        } else {\n            queryStringParts.push(encodeURIComponent(param) + '=' + encodeURIComponent(parsedParams[param]));\n        }\n\n    }\n   \n    return queryStringParts.join('&');    \n}\n\nexport default queryStringFromParams;","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".header-select{border:none;background:transparent}\", \"\"]);\n\n// exports\n","const getAllVolunteerTypes = async function () {\n    let data = JSON.parse(localStorage.getItem('volunteer-types'));\n\n    if (!data) {\n        data = await window.axios.get('/api/volunteer-types').then(response => {\n            localStorage.setItem('volunteer-types', JSON.stringify(response.data.data))\n            return response.data.data\n        });\n    }\n\n    return data;\n}\n\nexport default getAllVolunteerTypes;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"d-flex justify-content-between alert alert-info\"},[_vm._v(\"\\n        We've added a video showing you how to use this page: \\n        \"),_c('screen-info',{attrs:{\"video-url\":\"https://www.youtube.com/embed/q25Ok1gScS0\",\"title\":\"Learn about the Volunteers List\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"card volunteer-index\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"float-right d-flex\"},[_c('assignments-report-button',{staticClass:\"mr-1\",attrs:{\"filter\":_vm.filters,\"sort-by\":_vm.sortKey,\"sort-desc\":_vm.sortDesc}})],1),_vm._v(\" \"),_c('h1',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listType),expression:\"listType\"}],staticClass:\"header-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.listType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"unassigned\"}},[_vm._v(\"Unassigned Volunteers\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"All Volunteers\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"d-flex mb-2 p-0 filter-row\"},[_c('div',{staticClass:\"form-inline pr-3 border-right mr-3 align-items-start\"},[_c('label',{attrs:{\"for\":\"filter-input\"}},[_vm._v(\"Search:\")]),_vm._v(\"\\n                     \\n                    \"),_c('b-form-input',{staticClass:\"form-control form-control-sm align-top\",attrs:{\"debounce\":\"500\",\"type\":\"text\",\"placeholder\":\"filter rows\",\"id\":\"filter-input\"},model:{value:(_vm.filters.searchTerm),callback:function ($$v) {_vm.$set(_vm.filters, \"searchTerm\", $$v)},expression:\"filters.searchTerm\"}})],1),_vm._v(\" \"),(_vm.listType == 'all')?_c('div',{attrs:{\"id\":\"type-filter-container\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.volunteer_type_id),expression:\"filters.volunteer_type_id\"}],staticClass:\"form-control form-control-sm\",class:{active: _vm.filters.volunteer_type_id},attrs:{\"id\":\"type-select\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.filters, \"volunteer_type_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.reconcileFilters]}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Any Type\")]),_vm._v(\" \"),_vm._l((_vm.volunteerTypes),function(type,idx){return _c('option',{key:idx,domProps:{\"value\":type.id}},[_vm._v(\"\\n                            \"+_vm._s(type.name)+\"\\n                        \")])})],2)]):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"status-filter-container\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.volunteer_status_id),expression:\"filters.volunteer_status_id\"}],staticClass:\"form-control form-control-sm\",class:{active: _vm.filters.volunteer_status_id},attrs:{\"id\":\"status-select\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.filters, \"volunteer_status_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Any Status\")]),_vm._v(\" \"),_vm._l((_vm.volunteerStatuses),function(status,idx){return _c('option',{key:idx,domProps:{\"value\":status.id}},[_vm._v(\"\\n                            \"+_vm._s(status.name)+\"\\n                        \")])})],2)]),_vm._v(\" \"),(_vm.listType == 'all')?_c('div',{attrs:{\"id\":\"curation-activity-filter-container\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.curation_activity_id),expression:\"filters.curation_activity_id\"}],staticClass:\"form-control form-control-sm\",class:{active: _vm.filters.curation_activity_id},attrs:{\"id\":\"activity-select\",\"disabled\":_vm.filters.volunteer_type_id == 1},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.filters, \"curation_activity_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Any Activity\")]),_vm._v(\" \"),_vm._l((_vm.activities),function(activity,idx){return _c('option',{key:idx,domProps:{\"value\":activity.id}},[_vm._v(\"\\n                            \"+_vm._s(activity.name)+\"\\n                        \")])}),_vm._v(\" \"),_c('option',{domProps:{\"value\":-1}},[_vm._v(\"Not assigned to activity\")])],2)]):_vm._e(),_vm._v(\" \"),(_vm.listType == 'all')?_c('div',{attrs:{\"id\":\"curation-group-filter-container\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.curation_group_id),expression:\"filters.curation_group_id\"}],staticClass:\"form-control form-control-sm\",class:{active: _vm.filters.curation_group_id},staticStyle:{\"max-width\":\"200px\"},attrs:{\"id\":\"panel-select\",\"disabled\":_vm.filters.volunteer_type_id == 1},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.filters, \"curation_group_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Any Curation Group\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":-1}},[_vm._v(\"Not assigned to curation group\")]),_vm._v(\" \"),_vm._l((_vm.filteredCurationGroups),function(panel,idx){return _c('option',{key:idx,domProps:{\"value\":panel.id}},[_vm._v(\"\\n                            \"+_vm._s(panel.name)+\"\\n                        \")])})],2)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"ml-auto px-2\"},[_c('b-pagination',{staticClass:\"border-left pl-3\",attrs:{\"size\":\"sm\",\"hide-goto-end-buttons\":\"\",\"total-rows\":_vm.totalRows,\"per-page\":_vm.pageLength},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)]),_vm._v(\" \"),_c('b-table',{ref:\"volunteersTable\",attrs:{\"items\":_vm.volunteerProvider,\"fields\":_vm.fields,\"sort-by\":_vm.sortKey,\"sort-desc\":_vm.sortDesc,\"no-local-sorting\":true,\"show-empty\":true,\"filter\":_vm.filters,\"current-page\":_vm.currentPage,\"busy\":_vm.loadingVolunteers},on:{\"update:sortBy\":function($event){_vm.sortKey=$event},\"update:sort-by\":function($event){_vm.sortKey=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"sort-changed\":_vm.handleSortChanged,\"update:busy\":function($event){_vm.loadingVolunteers=$event},\"row-clicked\":_vm.navigateToVolunteer},scopedSlots:_vm._u([{key:\"cell(id)\",fn:function({item}){return [_c('a',{attrs:{\"href\":'/volunteers/'+item.id}},[_vm._v(_vm._s(item.id))])]}},{key:\"cell(name)\",fn:function({item}){return [_c('a',{attrs:{\"href\":'/volunteers/'+item.id}},[_vm._v(_vm._s(item.name))])]}},{key:\"cell(email)\",fn:function({item}){return [_c('a',{attrs:{\"href\":'/volunteers/'+item.id}},[_vm._v(_vm._s(item.email))])]}},{key:\"cell(assignments)\",fn:function({item}){return [(item && item.assignments.length > 0)?_c('assignment-brief-list',{attrs:{\"assignments\":item.assignments}}):_vm._e(),_vm._v(\" \"),(item.assignments.length == 0 && _vm.filters.curation_activity_id == -1)?_c('button',{staticClass:\"btn btn-light border btn-xs\",on:{\"click\":function($event){return _vm.addAssignmentsToVolunteer(item)}}},[_vm._v(\"Assign\")]):_vm._e()]}},{key:\"cell(latest_priorities)\",fn:function({item}){return [_c('small',[_c('ol',{staticClass:\"pl-3\"},_vm._l((item.priorities),function(priority){return _c('li',{key:priority.id},[_vm._v(\"\\n                                \"+_vm._s(priority.curation_activity.name)+\"\\n                                \"),(priority.curation_group)?_c('span',[_vm._v(\"\\n                                    - \"+_vm._s(priority.curation_group.name)+\"\\n                                \")]):_vm._e()])}),0)])]}},{key:\"cell(created_at)\",fn:function({item}){return [_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"formatDate\")(item.created_at,'YYYY-MM-DD'))+\"\\n                \")]}}])})],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"hide-header\":\"\",\"hide-footer\":\"\"},model:{value:(_vm.showAssignmentModal),callback:function ($$v) {_vm.showAssignmentModal=$$v},expression:\"showAssignmentModal\"}},[_c('assignment-form',{attrs:{\"volunteer\":_vm.currentVolunteer,\"showVolunteer\":\"\"},on:{\"saved\":_vm.updateCurrentVolunteer}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import queryStringFromParams from '../../http/query_string_from_params';\n\nconst getAllVolunteers = async function(params) {\n    if (typeof params === 'object') {\n        params = queryStringFromParams(params);\n    }\n    return await window.axios.get('/api/volunteers' + ((params) ? '?' + params : ''))\n        .then(response => response.data.data)\n}\n\nexport default getAllVolunteers;","import queryStringFromParams from '../../http/query_string_from_params'\n\nconst getPageOfVolunteers = function (params) {\n    const url = '/api/volunteers' + '?' + queryStringFromParams(params, true);\n    return window.axios.get(url);\n}\n\nexport default getPageOfVolunteers;","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentBriefList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentBriefList.vue?vue&type=script&lang=js&\"","<template>\n    <ul class=\"list-unstyled\">\n        <li v-for=\"(ass, idx) in assignments\" :key=\"idx\">\n            {{ass.assignable.name}}\n            <small v-if=\"ass.sub_assignments.length > 0\">\n                -\n                <span>\n                    {{ass.sub_assignments.map(p => p.assignable.name).join(\", \")}}\n                </span>\n            </small>\n        </li>\n    </ul>\n\n</template>\n<script>\nexport default {\n    props: {\n        assignments: {\n            type: Array,\n            default: []\n        }\n    },\n    methods: {\n        primaryAptitudeGranted (assignment) {\n            return assignment.user_aptitudes.find(ua => ua.aptitude.is_primary == 1).granted_at;\n        }\n    }\n}\n</script>","import { render, staticRenderFns } from \"./AssignmentBriefList.vue?vue&type=template&id=29ca857c&\"\nimport script from \"./AssignmentBriefList.vue?vue&type=script&lang=js&\"\nexport * from \"./AssignmentBriefList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"list-unstyled\"},_vm._l((_vm.assignments),function(ass,idx){return _c('li',{key:idx},[_vm._v(\"\\n        \"+_vm._s(ass.assignable.name)+\"\\n        \"),(ass.sub_assignments.length > 0)?_c('small',[_vm._v(\"\\n            -\\n            \"),_c('span',[_vm._v(\"\\n                \"+_vm._s(ass.sub_assignments.map(p => p.assignable.name).join(\", \"))+\"\\n            \")])]):_vm._e()])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <span>\n        <a :href=\"assignmentReportUrl\" class=\"btn btn-sm btn-primary\"\n            id=\"assignments-button\"\n        >\n            Assignments Report\n            <span v-if=\"hasFilters\">*</span>\n        </a>\n        <b-popover target=\"assignments-button\" triggers=\"hover\" v-if=\"hasFilters\">\n            <template v-slot:title>\n                <small>\n                    The report will be filtered by:\n                    <ul>\n                        <li v-for=\"(value, name) in activeFilters\" :key=\"name\">\n                            {{name | filterToLabel}}\n                        </li>\n                    </ul>\n                </small>\n            </template>\n        </b-popover>\n    </span>\n</template>\n<script>\nimport queryStringFromParams from '../../http/query_string_from_params'\n\nexport default {\n    props: {\n        filter: {\n            type: Object,\n            default: () =>{\n                return {};\n            }\n        },\n        sortBy: {\n            type: String,\n            default: 'last_name'\n        },\n        sortDesc: {\n            type: Boolean,\n            value: false\n        }\n    },\n    data() {\n        return {\n            \n        }\n    },\n    filters: {\n        filterToLabel(filter) {\n            if (filter == 'searchTerm') {\n                return 'Search'\n            }\n            const label = filter.replace('_id', '').replace('_', ' ');\n            return label.charAt(0).toUpperCase() + label.slice(1);\n        }\n    },\n    computed: {\n        assignmentReportUrl() {\n            const baseUrl = '/assignments-report';\n            let url = baseUrl+'?'+queryStringFromParams({...this.filter, ...{sortBy: this.sortBy, sortDesc: this.sortDesc}});\n            console.log(url);\n            return url;\n        },\n        hasFilters() {\n            return Object.keys(this.filter).filter(key => this.filter[key] !== null && this.filter[key] != '').length > 0\n        },\n        activeFilters: function () {\n            return Object.keys(this.filter)\n                .filter(key => this.filter[key] !== null && this.filter[key] !== '')\n                .reduce((obj, key) => {\n                    obj[key] = this.filter[key];\n                    return obj;\n                }, {})\n        },\n    },\n    methods: {\n\n    }\n}\n</script>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentsReportButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentsReportButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssignmentsReportButton.vue?vue&type=template&id=2565062c&\"\nimport script from \"./AssignmentsReportButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AssignmentsReportButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',[_c('a',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"href\":_vm.assignmentReportUrl,\"id\":\"assignments-button\"}},[_vm._v(\"\\n        Assignments Report\\n        \"),(_vm.hasFilters)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),(_vm.hasFilters)?_c('b-popover',{attrs:{\"target\":\"assignments-button\",\"triggers\":\"hover\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('small',[_vm._v(\"\\n                The report will be filtered by:\\n                \"),_c('ul',_vm._l((_vm.activeFilters),function(value,name){return _c('li',{key:name},[_vm._v(\"\\n                        \"+_vm._s(_vm._f(\"filterToLabel\")(name))+\"\\n                    \")])}),0)])]},proxy:true}],null,false,2705363192)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style>\n    .header-select {\n        border: none;\n        background: transparent;\n    }\n</style>\n<template>\n    <div>\n        <div class=\"d-flex justify-content-between alert alert-info\">\n            We've added a video showing you how to use this page: \n            <screen-info\n                video-url=\"https://www.youtube.com/embed/q25Ok1gScS0\" \n                title=\"Learn about the Volunteers List\"\n            ></screen-info>            \n        </div>\n        <div class=\"card volunteer-index\">\n            <div class=\"card-header\">\n                <div class=\"float-right d-flex\">\n                    <assignments-report-button \n                        class=\"mr-1 \"\n                        :filter=\"filters\" \n                        :sort-by=\"sortKey\" \n                        :sort-desc=\"sortDesc\"\n                    ></assignments-report-button>\n                </div>\n                <h1>\n                    <select v-model=\"listType\" class=\"header-select\">\n                        <option value=\"unassigned\">Unassigned Volunteers</option>\n                        <option value=\"all\">All Volunteers</option>\n                    </select>\n                </h1>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"d-flex mb-2 p-0 filter-row\">\n                    <div class=\"form-inline pr-3 border-right mr-3 align-items-start\">\n                        <label for=\"filter-input\">Search:</label>\n                        &nbsp;\n                        <b-form-input debounce=\"500\" type=\"text\" \n                            class=\"form-control form-control-sm align-top\" \n                            v-model=\"filters.searchTerm\" \n                            placeholder=\"filter rows\" \n                            id=\"filter-input\"\n                        ></b-form-input>\n                    </div>\n                    <div id=\"type-filter-container\" v-if=\"listType == 'all'\">\n                        <select id=\"type-select\" \n                            class=\"form-control form-control-sm\"\n                            :class=\"{active: filters.volunteer_type_id}\"\n                            v-model=\"filters.volunteer_type_id\" \n                            @change=\"reconcileFilters\"\n                        >\n                            <option :value=\"null\">Any Type</option>\n                            <option v-for=\"(type, idx) in volunteerTypes\"\n                                :key=\"idx\"\n                                :value=\"type.id\">\n                                {{type.name}}\n                            </option>\n                        </select>\n                    </div>\n                    <div id=\"status-filter-container\">\n                        <select id=\"status-select\" \n                            class=\"form-control form-control-sm\" \n                            :class=\"{active: filters.volunteer_status_id}\"\n                            v-model=\"filters.volunteer_status_id\"\n                        >\n                            <option :value=\"null\">Any Status</option>\n                            <option v-for=\"(status, idx) in volunteerStatuses\"\n                                :key=\"idx\"\n                                :value=\"status.id\">\n                                {{status.name}}\n                            </option>\n                        </select>\n                    </div>\n                    <div id=\"curation-activity-filter-container\" v-if=\"listType == 'all'\">\n                        <select id=\"activity-select\" \n                            class=\"form-control form-control-sm\" \n                            v-model=\"filters.curation_activity_id\" \n                            :class=\"{active: filters.curation_activity_id}\"\n                            :disabled=\"filters.volunteer_type_id == 1\"\n                        >\n                            <option :value=\"null\">Any Activity</option>\n                            <option v-for=\"(activity, idx) in activities\"\n                                :key=\"idx\"\n                                :value=\"activity.id\">\n                                {{activity.name}}\n                            </option>\n                            <option :value=\"-1\">Not assigned to activity</option>\n                        </select>\n                    </div>\n                    <div id=\"curation-group-filter-container\" v-if=\"listType == 'all'\">\n                        <select id=\"panel-select\" \n                            class=\"form-control form-control-sm\" \n                            v-model=\"filters.curation_group_id\"\n                            :disabled=\"filters.volunteer_type_id == 1\"\n                            :class=\"{active: filters.curation_group_id}\"\n                            style=\"max-width: 200px\"\n                        >\n                            <option :value=\"null\">Any Curation Group</option>\n                            <option :value=\"-1\">Not assigned to curation group</option>\n                            <option v-for=\"(panel, idx) in filteredCurationGroups\"\n                                :key=\"idx\"\n                                :value=\"panel.id\">\n                                {{panel.name}}\n                            </option>\n                        </select>\n                    </div>\n                    <div class=\"ml-auto px-2\">\n                        <b-pagination\n                            size=\"sm\"\n                            hide-goto-end-buttons\n                            :total-rows=\"totalRows\"\n                            :per-page=\"pageLength\"\n                            v-model=\"currentPage\"\n                            class=\"border-left pl-3\"\n                        ></b-pagination>\n                    </div>\n                </div>\n                <b-table \n                    ref=\"volunteersTable\"\n                    :items=\"volunteerProvider\" \n                    :fields=\"fields\"\n                    :sort-by.sync=\"sortKey\"\n                    :sort-desc.sync=\"sortDesc\"\n                    @sort-changed=\"handleSortChanged\"\n                    :no-local-sorting=\"true\"\n                    :show-empty=\"true\"\n                    :filter=\"filters\"\n                    :current-page=\"currentPage\"\n                    :busy.sync=\"loadingVolunteers\"\n                    @row-clicked=\"navigateToVolunteer\"\n                >\n                    <template v-slot:cell(id)=\"{item}\">\n                        <a :href=\"'/volunteers/'+item.id\">{{item.id}}</a>\n                    </template>\n                    <template v-slot:cell(name)=\"{item}\">\n                        <a :href=\"'/volunteers/'+item.id\">{{item.name}}</a>\n                    </template>\n                    <template v-slot:cell(email)=\"{item}\">\n                        <a :href=\"'/volunteers/'+item.id\">{{item.email}}</a>\n                    </template>\n                    <template v-slot:cell(assignments)=\"{item}\">\n                        <assignment-brief-list \n                            :assignments=\"item.assignments\"\n                            v-if=\"item && item.assignments.length > 0\"\n                        ></assignment-brief-list>\n                        <button @click=\"addAssignmentsToVolunteer(item)\" class=\"btn btn-light border btn-xs\" v-if=\"item.assignments.length == 0 && filters.curation_activity_id == -1\">Assign</button>\n                    </template>\n                    <template v-slot:cell(latest_priorities)=\"{item}\">\n                        <small>\n                            <ol class=\"pl-3\">\n                                <li v-for=\"priority in item.priorities\" :key=\"priority.id\">\n                                    {{priority.curation_activity.name}}\n                                    <span v-if=\"priority.curation_group\">\n                                        - {{priority.curation_group.name}}\n                                    </span>\n                                </li>\n                            </ol>\n                        </small>\n                    </template>\n                    <template v-slot:cell(created_at)=\"{item}\">\n                        {{item.created_at | formatDate('YYYY-MM-DD')}}\n                    </template>   \n                </b-table>\n            </div>\n            <b-modal v-model=\"showAssignmentModal\" hide-header hide-footer>\n                <assignment-form \n                    :volunteer=\"currentVolunteer\" \n                    @saved=\"updateCurrentVolunteer\"\n                    showVolunteer>\n                </assignment-form>\n            </b-modal>\n        </div>\n    </div>\n</template>\n\n<script>\n    import getAllVolunteers from '../../resources/volunteers/get_all_volunteers'\n    import findVolunteer from '../../resources/volunteers/find_volunteer'\n    import getPageOfVolunteers from '../../resources/volunteers/get_page_of_volunteers'\n    import getAllCurationGroups from '../../resources/curation_groups/get_all_curation_groups'\n    import getAllCurationActivities from '../../resources/curation_activities/get_all_curation_activities';\n    import getAllVolunteerStatuses from '../../resources/volunteers/get_all_volunteer_statuses';\n    import getAllVolunteerTypes from '../../resources/volunteers/get_all_volunteer_types';\n\n    import AssignmentBriefList from './../assignments/AssignmentBriefList'\n    import AssignmentsReportButton from '../reports/AssignmentsReportButton'\n\n    import { randomBytes } from 'crypto';\n\n    export default {\n        components: {\n            AssignmentBriefList,\n            AssignmentsReportButton\n        },\n        data() {\n            return {\n                listType: 'unassigned',\n                volunteers: [],\n                loadingVolunteers: false,\n                showAssignmentModal: false,\n                currentVolunteer: null,\n                tableFields: [\n                    {\n                        key: 'id',\n                        label: 'ID',\n                        sortable: true,\n                    },\n                    {\n                        key: 'first_name',\n                        label: 'First',\n                        sortable: true,\n                        key: 'first_name',\n                    },\n                    {\n                        key: 'last_name',\n                        label: 'Last',\n                        sortable: true,\n                        key: 'last_name',\n                    },\n                    {\n                        key: 'email',\n                        label: 'Email',\n                        sortable: true,\n                        key: 'email'\n                    },\n                    {\n                        key: 'type',\n                        label: 'Type',\n                        sortable: false,\n                        key: 'volunteer_type.name'\n                    },\n                    {\n                        label: 'Status',\n                        sortable: false,\n                        key: 'volunteer_status.name'\n                    },\n                    {\n                        key: 'assignments',\n                        sortable: false\n                    }\n                ],\n                volunteerTypes: [],\n                volunteerStatuses: [],\n                activities: [],\n                panels: [],\n                filters: {\n                    searchTerm: null,\n                    volunteer_type_id: null,\n                    volunteer_status_id: null,\n                    curation_activity_id: null,\n                    curation_group_id: null\n                },\n                totalRows: 0,\n                pageLength: 25,\n                currentPage: 1,\n                sortKey: null,\n                sortDesc: false,\n            }\n        },\n        computed: {\n            fields() {\n                let fields = JSON.parse(JSON.stringify(this.tableFields));\n                if (this.filters.curation_activity_id == -1) {\n                    // fields.splice(fields.findIndex(item => item.key == 'volunteer_status.name'), 1)\n                    fields.splice(fields.findIndex(item => item.key == 'volunteer_type.name'), 1)\n                    fields.push({\n                        label: 'Priorities',\n                        sortable: false,\n                        key: 'latest_priorities'\n                    });\n                    fields.push({\n                        label: 'Sign-up date',\n                        sortable: false,\n                        key: 'created_at',\n                        sortable: true\n                    })\n                }\n                return fields;\n            },\n            activeFilters: function () {\n                return Object.keys(this.filters)\n                    .filter(key => this.filters[key] !== null)\n                    .reduce((obj, key) => {\n                        obj[key] = this.filters[key];\n                        return obj;\n                    }, {})\n            },\n            filteredCurationGroups: function () {\n                if (!this.panels) {\n                    return [];\n                }\n                if (this.filters.curation_activity_id) {\n                    return this.panels.filter(panel => panel.curation_activity_id == this.filters.curation_activity_id)\n                }\n                return this.panels\n            },\n        },\n        watch: {\n            filters: {\n                handler: function (to, from) {\n                    localStorage.setItem('volunteers-table-filters', JSON.stringify(this.filters));\n                },\n                deep: true\n            },\n            listType() {\n                localStorage.setItem('volunteers-table-list-type', JSON.stringify(this.listType));\n                this.setFiltersForListType();\n            }\n        },\n        methods: {\n            setFiltersForListType() {\n                if (this.listType == 'unassigned') {\n                    this.clearFilters();\n                    this.filters.curation_activity_id = -1;\n                } else {\n                    this.clearFilters();\n                }\n            },\n            clearFilters() {\n                this.filters = {\n                    searchTerm: null,\n                    volunteer_type_id: null,\n                    volunteer_status_id: null,\n                    curation_activity_id: null,\n                    curation_group_id: null\n                };\n            },\n            reconcileFilters() {\n                if (this.filters.volunteer_type_id == 1) {\n                    this.filters.curation_activity_id = null;\n                    this.filters.curation_group_id = null;\n                }\n            },\n            volunteerProvider (context, callback) {\n                // this.loadingVolunteers = true;\n                if (this.filters.curation_activity_id == -1) {\n                    context.with = [\n                        'priorities',\n                        'priorities.curationActivity',\n                        'priorities.curationGroup'\n                    ];\n                }\n\n                getPageOfVolunteers(context)\n                    .then(response => {\n                        this.totalRows = response.data.meta.total;\n                        callback(response.data.data);\n                    });\n                // this.loadingVolunteers = false;\n            },\n            handleSortChanged() {\n                this.resetCurrentPage();\n            },\n            handleFiltered() {\n                this.resetCurrentPage();\n            },\n            async updateCurrentVolunteer () {\n                this.$refs.volunteersTable.refresh()\n                this.currentVolunteer = await findVolunteer(this.currentVolunteer.id)\n            },\n            async addAssignmentsToVolunteer(volunteer) {\n                this.currentVolunteer = await findVolunteer(volunteer.id);\n                this.showAssignmentModal = true;\n            },\n            resetCurrentPage() {\n                this.currentPage = 1\n            },\n            async getCurationActivities() {\n                this.activities = await getAllCurationActivities()\n            },\n            async getCurationGroups() {\n                this.panels = await getAllCurationGroups()\n            },\n            async getStatuses() {\n                this.volunteerStatuses = await getAllVolunteerStatuses()\n            },\n            async getTypes() {\n                this.volunteerTypes = await getAllVolunteerTypes()\n            },\n            navigateToVolunteer(volunteer) {\n                console.log(\"NavigateToVolunteer\");\n                window.location = '/volunteers/'+volunteer.id\n            },\n            syncFiltersFromLocalStorage () {\n                const storedFilters = JSON.parse(localStorage.getItem('volunteers-table-filters'));\n                if (storedFilters) {\n                    this.filters = storedFilters;\n                }\n            },\n            syncListTypeFromLocalStorage () {\n                const storedListType = JSON.parse(localStorage.getItem('volunteers-table-list-type'));\n                console.info('storedListType', storedListType)\n                if (storedListType) {\n                    this.listType = storedListType\n                }\n            }\n        },\n        mounted() {\n            // this.getVolunteers();\n            this.getCurationActivities()\n            this.getCurationGroups()\n            this.getStatuses()\n            this.getTypes()\n            this.syncFiltersFromLocalStorage();\n            this.syncListTypeFromLocalStorage();\n            this.setFiltersForListType();\n        }\n    \n}\n</script>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolunteerIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolunteerIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VolunteerIndex.vue?vue&type=template&id=444a6cd5&\"\nimport script from \"./VolunteerIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./VolunteerIndex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VolunteerIndex.vue?vue&type=style&index=0&id=444a6cd5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolunteerIndex.vue?vue&type=style&index=0&id=444a6cd5&prod&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolunteerIndex.vue?vue&type=style&index=0&id=444a6cd5&prod&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VolunteerIndex.vue?vue&type=style&index=0&id=444a6cd5&prod&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}