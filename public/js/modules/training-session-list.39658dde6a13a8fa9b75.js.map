{"version":3,"sources":["webpack:///./resources/js/http/query_string_from_params.js","webpack:///./resources/js/components/training_sessions/TrainingSessionList.vue","webpack:///./resources/js/resources/training_sessions/get_training_sessions.js","webpack:///./resources/js/resources/training_sessions/destroy.js","webpack:///./resources/js/resources/training_sessions/create.js","webpack:///resources/js/components/training_sessions/TrainingSessionList.vue","webpack:///./resources/js/components/training_sessions/TrainingSessionList.vue?fdd7","webpack:///./resources/js/components/training_sessions/TrainingSessionList.vue?4586"],"names":["queryStringFromParams","params","paginate","parsedParams","Object","keys","includes","filter","rest","queryStringParts","push","currentPage","param","undefined","Array","isArray","forEach","val","encodeURIComponent","join","i","getTrainingSessions","url","window","axios","response","data","map","item","TrainingSession","deleteTrainingSession","id","createTrainingSession","starts_at","moment","toISOString","ends_at","post","components","TrainingSessionForm","selectedTab","sessions","pastSessions","fields","key","label","sortable","formatter","sortByFormatted","sortBy","sortDesc","pastSortBy","pastSortDesc","showCreate","showEdit","currentSession","errors","computed","allSessions","watch","localStorage","methods","navigateToTrainingSession","edit","destroy","destroyTrainingSession","then","getSessions","getPastSessions","scopes","getSelectedTab","createSession","cancelCreate","updateSession","updateTrainingSession","cancelUpdate","mounted","component","_vm","this","_c","_self","staticClass","_v","attrs","on","$event","model","value","callback","$$v","expression","scopedSlots","_u","fn","_s","length","proxy","format"],"mappings":"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","file":"js/modules/training-session-list.39658dde6a13a8fa9b75.js","sourcesContent":["const queryStringFromParams = function (params = {}, paginate) {\n    let parsedParams = params;\n    if (Object.keys(params).includes('filter')) {\n        let {filter, ...rest} = params;\n        parsedParams = {...filter, ...rest};\n    }\n\n    let queryStringParts = [];\n    if (paginate) {\n        queryStringParts.push('page=' + (parsedParams.currentPage ? parsedParams.currentPage : 1))\n    }\n\n    delete (parsedParams.currentPage)\n    \n    for (let param in parsedParams) {\n        if (parsedParams[param] === null || parsedParams[param] === undefined) {\n            continue;\n        }\n\n        if (Array.isArray(parsedParams[param]) ) {\n            parsedParams[param].forEach(val => {\n                queryStringParts.push(encodeURIComponent(param) + '[]=' + encodeURIComponent(val));\n            })\n        } else {\n            queryStringParts.push(encodeURIComponent(param) + '=' + encodeURIComponent(parsedParams[param]));\n        }\n\n    }\n   \n    return queryStringParts.join('&');    \n}\n\nexport default queryStringFromParams;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"d-flex justify-content-between alert alert-info\"},[_vm._v(\"\\n        We've added a video showing you how to use this page: \\n        \"),_c('screen-info',{attrs:{\"video-url\":\"https://www.youtube.com/embed/WFFd6f-KaJA\",\"title\":\"Learn about Training Sessions\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('button',{staticClass:\"float-right btn btn-sm btn-primary\",on:{\"click\":function($event){_vm.showCreate = true}}},[_vm._v(\"Add new\")]),_vm._v(\" \"),_c('h3',{staticClass:\"m-0\"},[_vm._v(\"\\n                Training Sessions\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('b-tabs',{attrs:{\"pills\":\"\"},model:{value:(_vm.selectedTab),callback:function ($$v) {_vm.selectedTab=$$v},expression:\"selectedTab\"}},[_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"\\n                        Upcoming \"),_c('b-badge',{staticClass:\"ml-1\",attrs:{\"variant\":\"light\"}},[_vm._v(_vm._s(_vm.sessions.length))])]},proxy:true}])},[_vm._v(\" \"),_c('b-table',{staticClass:\"mt-4 cursor-pointer\",attrs:{\"fields\":_vm.fields,\"items\":_vm.sessions,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"row-clicked\":_vm.navigateToTrainingSession},scopedSlots:_vm._u([{key:\"cell(id)\",fn:function({value}){return [_c('div',{staticClass:\"text-right\"},[_c('a',{staticClass:\"btn border btn-light btn-xs\",attrs:{\"href\":`/training-sessions/${value}`}},[_vm._v(\"View\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn border btn-light btn-xs\",on:{\"click\":function($event){return _vm.edit(value)}}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn border btn-light btn-xs\",on:{\"click\":function($event){return _vm.destroy(value)}}},[_vm._v(\"Delete\")])])]}},{key:\"cell(starts_at)\",fn:function({item}){return [_vm._v(\"\\n                            \"+_vm._s(item.starts_at.format('MMMM D, YYYY - h:mm a'))+\"\\n                        \")]}}])})],1),_vm._v(\" \"),_c('b-tab',{attrs:{\"title\":\"Past\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"\\n                        Past \"),_c('b-badge',{staticClass:\"ml-1\",attrs:{\"variant\":\"light\"}},[_vm._v(_vm._s(_vm.pastSessions.length))])]},proxy:true}])},[_vm._v(\" \"),_c('b-table',{staticClass:\"mt-4\",attrs:{\"fields\":_vm.fields,\"items\":_vm.pastSessions,\"sort-by\":_vm.pastSortBy,\"sort-desc\":_vm.pastSortDesc,\"hover\":\"\"},on:{\"update:sortBy\":function($event){_vm.pastSortBy=$event},\"update:sort-by\":function($event){_vm.pastSortBy=$event},\"update:sortDesc\":function($event){_vm.pastSortDesc=$event},\"update:sort-desc\":function($event){_vm.pastSortDesc=$event},\"row-clicked\":_vm.navigateToTrainingSession},scopedSlots:_vm._u([{key:\"cell(starts_at)\",fn:function({item}){return [_vm._v(\"\\n                            \"+_vm._s(item.starts_at.format('MMMM D, YYYY - h:mm a'))+\"\\n                        \")]}},{key:\"cell(id)\",fn:function({value}){return [_c('div',{staticClass:\"text-right\"},[_c('a',{staticClass:\"btn border btn-light btn-xs\",attrs:{\"href\":`/training-sessions/${value}`}},[_vm._v(\"View\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn border btn-light btn-xs\",on:{\"click\":function($event){return _vm.edit(value)}}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn border btn-light btn-xs\",on:{\"click\":function($event){return _vm.destroy(value)}}},[_vm._v(\"Delete\")])])]}}])})],1)],1)],1)]),_vm._v(\" \"),_c('b-modal',{attrs:{\"size\":\"lg\",\"hide-footer\":\"\"},model:{value:(_vm.showCreate),callback:function ($$v) {_vm.showCreate=$$v},expression:\"showCreate\"}},[_c('training-session-form',{attrs:{\"errors\":_vm.errors},on:{\"saved\":_vm.createSession,\"canceled\":_vm.cancelCreate}})],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"size\":\"lg\",\"hide-footer\":\"\"},model:{value:(_vm.showEdit),callback:function ($$v) {_vm.showEdit=$$v},expression:\"showEdit\"}},[_c('training-session-form',{attrs:{\"training-session\":_vm.currentSession,\"errors\":_vm.errors},on:{\"saved\":_vm.updateSession,\"canceled\":_vm.cancelUpdate}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import queryStringFromParams from '../../http/query_string_from_params'\nimport moment from 'moment'\nimport TrainingSession from '../../entities/training_session'\n\nconst getTrainingSessions = async function (params) {\n    const url = '/api/training-sessions'+'?'+queryStringFromParams(params)\n    \n    let response = await window.axios(url);\n    return response.data.data.map(item => {\n        return new TrainingSession(item);\n    });\n}\n\nexport default getTrainingSessions;","const deleteTrainingSession = function (id)\n{\n    return window.axios.delete('api/training-sessions/'+id);\n}\n\nexport default deleteTrainingSession;","const createTrainingSession = function (data) {\n    data.starts_at = moment(data.starts_at).toISOString()\n    data.ends_at = moment(data.ends_at).toISOString()  \n    return window.axios.post('api/training-sessions', data);\n}\n\nexport default createTrainingSession;","<template>\n    <div>\n        <div class=\"d-flex justify-content-between alert alert-info\">\n            We've added a video showing you how to use this page: \n            <screen-info\n                video-url=\"https://www.youtube.com/embed/WFFd6f-KaJA\" \n                title=\"Learn about Training Sessions\"\n            ></screen-info>            \n        </div>\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <button class=\"float-right btn btn-sm btn-primary\" @click=\"showCreate = true\">Add new</button>\n                <h3 class=\"m-0\">\n                    Training Sessions\n                </h3>\n            </div>\n            <div class=\"card-body\">\n                <b-tabs pills v-model=\"selectedTab\">\n                    <b-tab>\n                        <template v-slot:title>\n                            Upcoming <b-badge class=\"ml-1\" variant=\"light\">{{sessions.length}}</b-badge>\n                        </template>\n                        <b-table :fields=\"fields\" :items=\"sessions\" class=\"mt-4 cursor-pointer\"\n                            :sort-by.sync=\"sortBy\"\n                            :sort-desc.sync=\"sortDesc\"\n                            @row-clicked=\"navigateToTrainingSession\"\n                        >\n                            <template v-slot:cell(id)=\"{value}\">\n                                <div class=\"text-right\">\n                                    <a :href=\"`/training-sessions/${value}`\" class=\"btn border btn-light btn-xs\">View</a>\n                                    <button class=\"btn border btn-light btn-xs\" @click=\"edit(value)\">Edit</button>\n                                    <button class=\"btn border btn-light btn-xs\" @click=\"destroy(value)\">Delete</button>\n                                </div>\n                            </template>\n                            <template v-slot:cell(starts_at)=\"{item}\">\n                                {{item.starts_at.format('MMMM D, YYYY - h:mm a')}}\n                            </template>\n                        </b-table>        \n                    </b-tab>\n                    <b-tab title=\"Past\">\n                        <template v-slot:title>\n                            Past <b-badge class=\"ml-1\" variant=\"light\">{{pastSessions.length}}</b-badge>\n                        </template>\n                        <b-table :fields=\"fields\" :items=\"pastSessions\" class=\"mt-4\"\n                            :sort-by.sync=\"pastSortBy\"\n                            :sort-desc.sync=\"pastSortDesc\"\n                            @row-clicked=\"navigateToTrainingSession\"\n                            hover\n                        >\n                            <template v-slot:cell(starts_at)=\"{item}\">\n                                {{item.starts_at.format('MMMM D, YYYY - h:mm a')}}\n                            </template>\n                            <template v-slot:cell(id)=\"{value}\">\n                                <div class=\"text-right\">\n                                    <a :href=\"`/training-sessions/${value}`\" class=\"btn border btn-light btn-xs\">View</a>\n                                    <button class=\"btn border btn-light btn-xs\" @click=\"edit(value)\">Edit</button>\n                                    <button class=\"btn border btn-light btn-xs\" @click=\"destroy(value)\">Delete</button>\n                                </div>\n                            </template>\n                        </b-table>        \n                    </b-tab>\n                </b-tabs>\n            </div>\n        </div>\n        \n        <b-modal v-model=\"showCreate\" size=\"lg\" hide-footer>\n            <training-session-form\n                :errors=\"errors\"\n                @saved=\"createSession\"\n                @canceled=\"cancelCreate\"\n            ></training-session-form>\n        </b-modal>\n        <b-modal v-model=\"showEdit\" size=\"lg\" hide-footer>\n            <training-session-form :training-session=\"currentSession\"\n                :errors=\"errors\"\n                @saved=\"updateSession\"\n                @canceled=\"cancelUpdate\"\n            ></training-session-form>\n        </b-modal>\n    </div>\n</template>\n<script>\nimport getTrainingSessions from '../../resources/training_sessions/get_training_sessions';\nimport destroyTrainingSession from '../../resources/training_sessions/destroy';\nimport createTrainingSession from '../../resources/training_sessions/create';\nimport updateTrainingSession from '../../resources/training_sessions/update';\n\nimport TrainingSessionForm from '../training_sessions/TrainingSessionForm'\nimport TrainingSession from '../../entities/training_session'\n\nexport default {\n    components: {\n        TrainingSessionForm\n    },\n    data() {\n        return {\n            selectedTab: this.getSelectedTab(),\n            sessions: [],\n            pastSessions: [],\n            fields: [\n                {\n                    key: 'topic.name',\n                    label: 'Topic',\n                    sortable: true,\n                },\n                {\n                    key: 'starts_at',\n                    label: 'Date & Time',\n                    sortable: 'true',\n                    formatter: (value, key, item) => this.$options.filters.formatDate(value, 'YYYY-MM-DD HH:mm')+' EST',\n                    sortByFormatted: true\n                },\n                {\n                    key: 'id',\n                    label: '',\n                    sortable: false\n                }\n            ],\n            sortBy: 'starts_at',\n            sortDesc: false,\n            pastSortBy: 'starts_at',\n            pastSortDesc: true,\n            showCreate: false,\n            showEdit: false,\n            currentSession: {},\n            errors: {},\n        }\n    },\n    computed: {\n        allSessions: function () {\n            return this.sessions.concat(this.pastSessions);\n        }\n    },\n    watch: {\n        selectedTab: function (to, from) {\n            if (to != from) {\n                localStorage.setItem('training-list-tab', this.selectedTab);\n            }            \n        }\n    },\n    methods: {\n        navigateToTrainingSession (trainingSession) {\n            window.location = '/training-sessions/'+trainingSession.id\n        },\n        edit(id) {\n            this.currentSession = this.allSessions.find(ts => ts.id == id);\n            this.showEdit = true;\n        },\n        destroy(id) {\n            if (confirm('You are about to delete this training session.  This cannot be undone and the attendees will be notified of its cancellation.  Do you want to continue?')) {\n                destroyTrainingSession(id)\n                    .then(response => {\n                        this.getSessions();\n                        this.getPastSessions();\n                    })\n            }\n        },\n        async getSessions() {\n            this.sessions = await getTrainingSessions();\n        },\n        async getPastSessions() {\n            this.pastSessions = await getTrainingSessions({\n                scopes: ['past']\n            });\n        },\n        getSelectedTab() {\n            let tabIdx = localStorage.getItem('training-list-tab');\n            if (tabIdx !== null) {\n                return parseInt(tabIdx);\n            }\n            return 0;\n        },\n        createSession(data) {\n            this.errors = {};\n            createTrainingSession(data)\n                .then(response => {\n                    let session = new TrainingSession(response.data.data);\n                    this.sessions.push(session);\n                    this.currentSession = {};\n                    this.showCreate = false;\n                })\n                .catch(error => {\n                    this.errors = error.response.data.errors\n                })\n        },\n        cancelCreate() {\n            this.errors = {};\n            this.showCreate = false;\n        },\n        updateSession(trainingSession) {\n            this.errors = {};\n            updateTrainingSession(this.currentSession.id, trainingSession)\n                .then(response => {\n                    this.currentSession = {};\n                    this.showEdit = false;\n\n                    this.getSessions();\n                    this.getPastSessions();\n                })\n                .catch(error => {\n                    this.errors = error.response.data.errors\n                })\n        },\n        cancelUpdate() {\n            this.errors = {};\n            this.currentSession = {};\n            this.showEdit = false;\n        }\n    },\n    mounted() {\n        this.getSessions();\n        this.getPastSessions();\n        window.addEventListener('popstate', (e) => {\n            this.selectedTab = e.tabIdx\n        });\n    }\n}\n</script>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainingSessionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrainingSessionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrainingSessionList.vue?vue&type=template&id=c960528a&\"\nimport script from \"./TrainingSessionList.vue?vue&type=script&lang=js&\"\nexport * from \"./TrainingSessionList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}