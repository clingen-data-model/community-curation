(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"1CCS":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,t),this.items=e}var e,n,i;return e=t,(n=[{key:Symbol.iterator,value:function(){return this.items.values()}},{key:"push",value:function(t){this.items.push(t)}},{key:"shift",value:function(t){this.items.shift(t)}},{key:"unshift",value:function(t){this.items.unshift(t)}},{key:"filter",value:function(e){return new t(this.items.filter(e))}},{key:"map",value:function(e){return new t(this.items.map(e))}},{key:"flat",value:function(){return new t(this.items.flat)}},{key:"includes",value:function(t){return this.items.includes(t)}},{key:"all",value:function(){return this.items}},{key:"get",value:function(t){return this.items[t]}},{key:"put",value:function(t,e){return this.items[t]=e}},{key:"primary",value:function(){return new t(this.items.filter((function(t){return t.aptitude.is_primary})))}},{key:"secondary",value:function(){return new t(this.items.filter((function(t){return!t.aptitude.is_primary})))}},{key:"granted",value:function(){return new t(this.items.filter((function(t){return null!=t.granted_at})))}},{key:"trained",value:function(){return new t(this.items.filter((function(t){return null!=t.trained_at})))}},{key:"untrained",value:function(){return new t(this.items.filter((function(t){return null===t.trained_at})))}},{key:"pending",value:function(){return new t(this.items.filter((function(t){return null===t.granted_at})))}},{key:"needsAttestation",value:function(){return this.pending().trained()}},{key:"length",get:function(){return this.items.length}}])&&s(e.prototype,n),i&&s(e,i),t}();e.a=i},"4JGY":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var r=function(){var t=this.$createElement;return(this._self._c||t)("a",{attrs:{href:"https://hypothes.is",target:"hypothes.is"}},[this._v("hypothes.is")])},s=[]},"5zh7":function(t,e,n){"use strict";e.a=function(t,e){return window.axios.put("/api/assignments/"+t,e)}},EFxc:function(t,e){},ERWH:function(t,e,n){"use strict";var r=n("o0o1"),s=n.n(r),i=n("kJa9");function a(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var o=function(){var t,e=(t=s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/api/volunteers/"+e).then((function(t){var e=t.data.data;return e=new i.a(e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function o(t){a(i,r,s,o,l,"next",t)}function l(t){a(i,r,s,o,l,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}();e.a=o},LAbY:function(t,e,n){"use strict";n.r(e);var r=n("4JGY"),s=n("ew20");for(var i in s)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(i);var a=n("KHd+"),o=Object(a.a)(s.default,r.a,r.b,!1,null,null,null);e.default=o.exports},Qsky:function(t,e,n){"use strict";var r=n("o0o1"),s=n.n(r);function i(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var a=function(){var t,e=(t=s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("volunteer-statuses"))){t.next=5;break}return t.next=4,window.axios.get("/api/volunteer-statuses").then((function(t){return localStorage.setItem("volunteer-statuses",JSON.stringify(t.data.data)),t.data.data}));case 4:e=t.sent;case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var a=t.apply(e,n);function o(t){i(a,r,s,o,l,"next",t)}function l(t){i(a,r,s,o,l,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();e.a=a},eLlm:function(t,e,n){"use strict";var r=n("o0o1"),s=n.n(r);function i(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var a=function(){var t,e=(t=s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("assignment-statuses"))){t.next=5;break}return t.next=4,window.axios.get("/api/assignment-statuses").then((function(t){return localStorage.setItem("assignment-statuses",JSON.stringify(t.data.data)),t.data.data}));case 4:e=t.sent;case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var a=t.apply(e,n);function o(t){i(a,r,s,o,l,"next",t)}function l(t){i(a,r,s,o,l,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();function o(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var l,u,c={components:{},props:{assignment:{required:!0,type:Object}},data:function(){return{newAssignmentStatusId:null,assignmentStatuses:[]}},watch:{assignment:function(t,e){this.newAssignmentStatusId=this.assignment.assignment_status_id}},methods:{fetchAssignmentStatuses:(l=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:this.assignmentStatuses=t.sent;case 3:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var s=l.apply(t,e);function i(t){o(s,n,r,i,a,"next",t)}function a(t){o(s,n,r,i,a,"throw",t)}i(void 0)}))},function(){return u.apply(this,arguments)})},mounted:function(){this.newAssignmentStatusId=this.assignment.assignment_status_id,this.fetchAssignmentStatuses()}},v=n("KHd+"),d=Object(v.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{directives:[{name:"model",rawName:"v-model",value:t.newAssignmentStatusId,expression:"newAssignmentStatusId"}],staticClass:"form-control form-control-sm",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.newAssignmentStatusId=e.target.multiple?n:n[0]},function(e){return t.$emit("assignmentstatuschange",t.newAssignmentStatusId)}]}},[n("option",{domProps:{value:null}},[t._v("Select")]),t._v(" "),t._l(t.assignmentStatuses,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n        "+t._s(e.name)+"\n    ")])}))],2)}),[],!1,null,null,null);e.a=d.exports},ew20:function(t,e,n){"use strict";n.r(e);var r=n("EFxc"),s=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=s.a},fUiZ:function(t,e,n){"use strict";e.a=function(t){window.clearSessionStorage(),window.location.href="/impersonate/take/"+t}},ieDL:function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),s=n.n(r),i=n("L2JU"),a=n("ERWH"),o=n("qjDQ"),l=n("fUiZ"),u=n("5zh7"),c=n("eLlm"),v=n("S+eF"),d={components:{AssignmentStatusInput:c.a},props:{assignment:{type:Object,required:!0},volunteer:{type:Object,required:!0}},data:function(){return{newActivityStatus:null,newPanelStatuses:{}}},methods:{updateActivityAssignmentStatus:function(t){var e=this,n=[];if(n.push(Object(u.a)(this.assignment.curationActivity.id,{assignment_status_id:t})),this.assignment.subAssignments.length>0&&2==t)for(var r in this.assignment.subAssignments){var s=this.assignment.subAssignments[r];n.push(Object(u.a)(s.id,{assignment_status_id:t}))}v.Promise.all(n).then((function(){e.$emit("assignmentsupdated")}))},updatePanelAssignmentStatus:function(t,e){var n=this;Object(u.a)(e.id,{assignment_status_id:t}).then((function(){return n.$emit("assignmentsupdated")}))}},mounted:function(){}},m=n("KHd+"),p=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[n("h3",[t._v("Update Assignment Statuses")]),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v("Curation Activity")]),t._v(" "),n("assignment-status-input",{attrs:{assignment:t.assignment.curationActivity},on:{assignmentstatuschange:t.updateActivityAssignmentStatus}}),t._v(" "),t.assignment.subAssignments.length>0?n("div",{staticClass:"mt-2"},[n("h5",[t.volunteer.isComprehensive()?n("span",[t._v("Panels & ")]):t._e(),t._v("Genes\n        ")]),t._v(" "),t._l(t.assignment.subAssignments,(function(e){return n("div",{key:e.id,staticClass:"ml-3"},[n("assignment-status-input",{attrs:{assignment:e},on:{assignmentstatuschange:function(n){return t.updatePanelAssignmentStatus(n,e)}}})],1)}))],2):t._e()],1)}),[],!1,null,null,null).exports,f=(n("1CCS"),{props:{assignment:{required:!0,type:Object}},computed:{asn:function(){return this.assignment},subAssignmentType:function(){return 1==this.assignment.assignable.curation_activity_type_id?"curation group":"gene"}}}),h={components:{AssignmentStatusForm:p,AssignmentSummaryColumn:Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.asn.hasSubAssignments()?n("div",[n("ul",{staticClass:"list-unstyled"},t._l(t.asn.sub_assignments,(function(e){return n("li",{key:e.id},[n("small",[e.assignable.url?n("span",[n("a",{attrs:{href:e.assignable.url,target:"curation-group",title:"curation group info page"}},[t._v("\n                            "+t._s(e.assignable.name)+"\n                            "),n("b-icon-box-arrow-up-right")],1)]):n("span",[t._v("\n                        "+t._s(e.assignable.name)+"\n                    ")]),t._v(" "),n("div",{staticClass:"float-right"},[e.assignable.protocol_path?n("a",{staticClass:"float-right",attrs:{href:"/genes/"+e.assignable.symbol+"/protocol"}},[t._v("\n                            Protocol\n                        ")]):t._e(),t._v(" "),n("br"),t._v(" "),e.assignable.hypothesis_group?n("a",{staticClass:"hypothesis-link",attrs:{href:e.assignable.hypothesis_group_url,target:"hypothes.is"}},[t._v("\n                            Hypothes.is\n                        ")]):t._e()])])])})),0)]):n("div",[t.asn.user_aptitudes.untrained().length>0?n("div",[n("small",[n("strong",[t._v("Pending Training:")]),t._v(" "),n("ul",{staticClass:"list-unstyled ml-2 mt-0"},t._l(t.asn.user_aptitudes.untrained(),(function(e){return n("li",{key:e.id},[t._v("\n                        "+t._s(e.aptitude.name)+"\n                    ")])})),0)])]):t.asn.user_aptitudes.needsAttestation().length>0?n("div",[n("small",[n("ul",{staticClass:"list-unstyled ml-2 mt-0"},t._l(t.asn.user_aptitudes.needsAttestation(),(function(e){return n("li",{key:e.id},[n("a",{staticClass:"btn btn-xs btn-primary",attrs:{href:"/attestations/"+e.attestation_id+"/edit"}},[t._v("\n                            Sign Attestation\n                        ")])])})),0)])]):n("div",[n("only-volunteer",[n("small",[t._v("You will be assigned to a "+t._s(t.subAssignmentType)+" shortly.")])]),t._v(" "),n("non-volunteer",[n("button",{staticClass:"btn btn-xs btn-primary",on:{click:function(e){return t.$emit("manageAssignments")}}},[t._v("\n                    Assign to "+t._s(t.subAssignmentType)+"\n                ")])])],1)])])}),[],!1,null,null,null).exports},props:{volunteer:{reqired:!0,type:Object}},data:function(){return{showAssignmentForm:!1,currentAssignment:{}}},computed:{hasAssignments:function(){return this.volunteer.assignments&&this.volunteer.assignments.length>0}},watch:{volunteer:function(t,e){var n=this;if(this.currentAssignment&&this.currentAssignment!=={}){var r=this.volunteer.assignments.find((function(t){return t.curation_activity_id==n.currentAssignment.curation_activity_id}));this.syncCurrentAssignment(r)}}},methods:{assignmentIsRetired:function(t){return t.assignment_status_id==this.$store.state.configs.project.assignmentStatuses.retired},syncCurrentAssignment:function(t){this.currentAssignment=t},signAttestation:function(t){var e=this;axios.put("/api/dev/sign-attestation/"+t).then((function(){return e.$emit("updatevolunteer")}))}}},_=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card p-3"},[n("h4",[t._v("\n        "+t._s(t._f("ucfirst")(t.volunteer.volunteer_type.name||"loading..."))+" Volunteer\n            - "),n("b-badge",[t._v(t._s(t.volunteer.volunteer_status.name))])],1),t._v(" "),t.hasAssignments?n("div",[n("table",{staticClass:"table table-striped tabel-sm"},[n("thead",[n("tr",[n("th",{staticStyle:{width:"40%"}},[t._v("Curation Activity")]),t._v(" "),n("th",{attrs:{colspan:"2"}},[t.volunteer.isComprehensive()?n("span",[t._v("Panel / ")]):t._e(),t._v("\n                        Gene\n                    ")])])]),t._v(" "),n("tbody",t._l(t.volunteer.assignments,(function(e){return n("tr",{key:e.id},[n("td",[n("strong",[t._v(t._s(e.assignable.name))]),t._v(" "),n("b-badge",[t._v(t._s(e.status.name))]),t._v(" "),e.user_aptitudes.granted().secondary().length>0?n("div",[n("small",[n("ul",{staticClass:"list-unstyled ml-2 mt-0"},t._l(e.user_aptitudes.granted().secondary(),(function(e){return n("li",{key:e.id},[t._v("\n                                        "+t._s(e.aptitude.name)+"\n                                    ")])})),0)])]):t._e()],1),t._v(" "),n("td",[n("assignment-summary-column",{attrs:{assignment:e},on:{manageAssignments:function(e){t.showAssignmentForm=!0}}})],1)])})),0)]),t._v(" "),t.$store.state.user.isVolunteer()?t._e():n("button",{staticClass:"btn btn btn-default border btn-xs",attrs:{disabled:t.volunteer.volunteer_status_id==t.$store.state.configs.volunteers.statuses.retired},on:{click:function(e){t.showAssignmentForm=!0}}},[t._v("\n            Manage Assignments\n        ")])]):n("div",[n("only-volunteer",{staticClass:"text-muted"},[t._v("\n            A ClinGen staff member will contact you shortly about your curation activity assignment.\n        ")]),t._v(" "),n("non-volunteer",[n("button",{staticClass:"btn btn-lg btn-primary",on:{click:function(e){t.showAssignmentForm=!0}}},[t._v("\n                Assign Curation Activity\n            ")])])],1),t._v(" "),t.$store.state.user.isVolunteer()?t._e():n("b-modal",{attrs:{"hide-header":"","hide-footer":"",size:"lg"},model:{value:t.showAssignmentForm,callback:function(e){t.showAssignmentForm=e},expression:"showAssignmentForm"}},[n("assignment-form",{attrs:{volunteer:t.volunteer},on:{saved:function(e){return t.$emit("updatevolunteer")},assignmentsupdated:function(e){return t.$emit("updatevolunteer")}}})],1)],1)}),[],!1,null,null,null).exports;function g(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var b=function(){var t,e=(t=s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("countries"))){t.next=5;break}return t.next=4,window.axios.get("/api/countries").then((function(t){return localStorage.setItem("countries",JSON.stringify(t.data.data)),t.data.data}));case 4:e=t.sent;case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){g(i,r,s,a,o,"next",t)}function o(t){g(i,r,s,a,o,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();function y(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var w=function(){var t,e=(t=s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("timezones"))){t.next=6;break}return t.next=4,window.axios.get("/api/timezones").then((function(t){return t.data.data}));case 4:e=t.sent,localStorage.setItem("timezones",JSON.stringify(e));case 6:return t.abrupt("return",e.filter((function(t){return"UTC"!==t})));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){y(i,r,s,a,o,"next",t)}function o(t){y(i,r,s,a,o,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();function C(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var O={props:{volunteer:{type:Object,required:!0},countries:{type:Array,required:!0}},data:function(){return{errors:{},timezones:[]}},computed:{timezone:{get:function(){return this.volunteer.timezone&&null!==this.volunteer.timezone||(this.volunteer.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),this.volunteer.timezone},set:function(t){this.volunteer.timezone=t}}},methods:{updateContactInfo:function(t){var e=this;t.preventDefault(),Object(o.a)(this.volunteer.id,{first_name:this.volunteer.first_name,last_name:this.volunteer.last_name,orcid_id:this.volunteer.orcid_id,hypothesis_id:this.volunteer.hypothesis_id,email:this.volunteer.email,institution:this.volunteer.institution,street1:this.volunteer.street1,street2:this.volunteer.street2,city:this.volunteer.city,state:this.volunteer.state,zip:this.volunteer.zip,country_id:this.volunteer.country_id,timezone:this.volunteer.timezone}).then((function(t){e.$emit("saved")})).catch((function(t){console.log(t.response.data.errors),422==t.response.status&&(e.errors=t.response.data.errors)}))}},mounted:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:e.timezones=t.sent;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){C(i,r,s,a,o,"next",t)}function o(t){C(i,r,s,a,o,"throw",t)}a(void 0)}))})()}},k=Object(m.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"form-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.first_name,expression:"volunteer.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"first_name",placeholder:"First"},domProps:{value:t.volunteer.first_name},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"first_name",e.target.value)}}}),t._v("\n                     \n                    "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.last_name,expression:"volunteer.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"last_name",placeholder:"Last"},domProps:{value:t.volunteer.last_name},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"last_name",e.target.value)}}})]),t._v(" "),n("validation-error",{attrs:{errors:t.errors.first_name}}),t._v(" "),n("validation-error",{attrs:{errors:t.errors.last_name}})],1)]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.email,expression:"volunteer.email"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:"me@example.com"},domProps:{value:t.volunteer.email},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"email",e.target.value)}}}),t._v(" "),n("div",{staticClass:"text-muted"},[n("small",[t._v("\n                        This is the email "+t._s(t.$store.state.user.isVolunteer()?"you":"the volunteer")+" will use to log in.\n                    ")])]),t._v(" "),n("validation-error",{attrs:{errors:t.errors.email}})],1)]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"name"}},[t._v("ORCiD ID")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.orcid_id,expression:"volunteer.orcid_id"}],staticClass:"form-control",attrs:{type:"text",id:"orcidid",placeholder:"123123123"},domProps:{value:t.volunteer.orcid_id},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"orcid_id",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"name"}},[t._v("hypothes.is username")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.hypothesis_id,expression:"volunteer.hypothesis_id"}],staticClass:"form-control",attrs:{type:"text",id:"hypothesis-id-field",placeholder:"my-hypothesis-username"},domProps:{value:t.volunteer.hypothesis_id},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"hypothesis_id",e.target.value)}}})])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"email"}},[t._v("Institution")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.institution,expression:"volunteer.institution"}],staticClass:"form-control",attrs:{type:"text",id:"institution",placeholder:"UNC Chapel Hill"},domProps:{value:t.volunteer.institution},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"institution",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"street1"}},[t._v("Address 1")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.street1,expression:"volunteer.street1"}],staticClass:"form-control",attrs:{type:"text",id:"street1",placeholder:"1234 Main St"},domProps:{value:t.volunteer.street1},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"street1",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"street2"}},[t._v("Address 2")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.street2,expression:"volunteer.street2"}],staticClass:"form-control",attrs:{type:"text",id:"street2",placeholder:"Apartment, suite, etc."},domProps:{value:t.volunteer.street2},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"street2",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"city"}},[t._v("City")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.city,expression:"volunteer.city"}],staticClass:"form-control",attrs:{type:"text",id:"city"},domProps:{value:t.volunteer.city},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"city",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"state"}},[t._v("State")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.state,expression:"volunteer.state"}],staticClass:"form-control",attrs:{type:"text",id:"state"},domProps:{value:t.volunteer.state},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"state",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"zip"}},[t._v("Zip code")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.zip,expression:"volunteer.zip"}],staticClass:"form-control",attrs:{type:"text",id:"zip"},domProps:{value:t.volunteer.zip},on:{input:function(e){e.target.composing||t.$set(t.volunteer,"zip",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"country_id"}},[t._v("Country")]),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.volunteer.country_id,expression:"volunteer.country_id"}],staticClass:"form-control form-control-sm",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.volunteer,"country_id",e.target.multiple?n:n[0])}}},[n("option",{domProps:{value:null}},[t._v("Select…")]),t._v(" "),t._l(t.countries,(function(e,r){return n("option",{key:r,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))],2),t._v(" "),n("validation-error",{attrs:{errors:t.errors.country_id}})],1)]),t._v(" "),n("div",{staticClass:"form-group row"},[t._m(0),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.timezone,expression:"timezone"}],staticClass:"form-control form-control-sm",attrs:{name:"",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.timezone=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"UTC"}},[t._v("Select…")]),t._v(" "),t._l(t.timezones,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2),t._v(" "),n("validation-error",{attrs:{errors:t.errors.timezone}})],1)]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.updateContactInfo}},[t._v("Save")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"timezone"}},[this._v("Closest City "),e("small",[this._v("(for timezone)")])])}],!1,null,null,null).exports,x={components:{HypothesisLink:n("LAbY").default},props:{volunteer:{required:!0,type:Object}},computed:{showReminder:function(){return null===this.volunteer.hypothesis_id&&this.volunteer.isBaseline()}},methods:{}};function D(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var P,A,$={components:{BasicInfoForm:k,HypothesisReminder:Object(m.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showReminder?n("only-volunteer",[n("div",{staticClass:"alert alert-warning mt-0 mx-auto"},[n("h3",[t._v("Do you have a "),n("hypothesis-link"),t._v(" account?")],1),t._v("\n        If so, please "),n("a",{attrs:{href:"#basic-form"},on:{click:function(e){return e.preventDefault(),t.$emit("share_hypothesis")}}},[n("strong",[t._v("share it with us")])]),t._v(" so we can add you to ClinGen groups; \n        if not, please "),n("a",{attrs:{href:"https://web.hypothes.is/start/",target:"hypothes.is"}},[n("strong",[t._v("create one")])]),t._v(" and share it with us.\n        "),n("p",[t._v("\n            We use "),n("hypothesis-link"),t._v(", a free and open, web-based annotation tool, to aid our biocuration efforts. We need your hypothes.is username so we can add you to groups and keep track of your contribution.\n        ")],1)])]):t._e()}),[],!1,null,null,null).exports},props:{volunteer:{reqired:!0,type:Object}},data:function(){return{showBasicInfoForm:!1,countries:[]}},methods:{fetchCountries:(P=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:this.countries=t.sent;case 3:case"end":return t.stop()}}),t,this)})),A=function(){var t=this,e=arguments;return new Promise((function(n,r){var s=P.apply(t,e);function i(t){j(s,n,r,i,a,"next",t)}function a(t){j(s,n,r,i,a,"throw",t)}i(void 0)}))},function(){return A.apply(this,arguments)}),handleFormSave:function(t){this.showBasicInfoForm=!1,this.$emit("updatevolunteer",t)}},computed:{countryLookup:function(){var t,e={},n=D(this.countries);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.id]=r.name}}catch(t){n.e(t)}finally{n.f()}return e},currentTimezone:function(){return moment().tz(this.volunteer.timezone).zoneAbbr()}},mounted:function(){this.fetchCountries()}},F={components:{AssignmentCard:_,BasicInfoCard:Object(m.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card p-3 mb-3"},[n("h4",[n("span",[t._v("Basic Information")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-default border float-right",on:{click:function(e){t.showBasicInfoForm=!t.showBasicInfoForm}}},[t._v("Edit")])]),t._v(" "),n("hypothesis-reminder",{attrs:{volunteer:t.volunteer},on:{share_hypothesis:function(e){t.showBasicInfoForm=!0}}}),t._v(" "),n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-sm-5"},[t._v("Email:")]),t._v(" "),n("dd",{staticClass:"col-sm-7"},[t.volunteer.email?n("span",[t._v(t._s(t.volunteer.email))]):t._e()]),t._v(" "),n("dt",{staticClass:"col-sm-5"},[t._v("ORCID ID:")]),t._v(" "),n("dd",{staticClass:"col-sm-7"},[t.volunteer.orcid_id?n("span",[t._v(t._s(t.volunteer.orcid_id))]):n("span",{staticClass:"text-muted cursor-pointer",on:{click:function(e){t.showBasicInfoForm=!0}}},[t._v("\n                add "),t._m(0)])]),t._v(" "),n("dt",{staticClass:"col-sm-5"},[t._v("hypothes.is username:")]),t._v(" "),n("dd",{staticClass:"col-sm-7"},[t.volunteer.hypothesis_id?n("a",{attrs:{href:"https://hypothes.is/users/"+t.volunteer.hypothesis_id,target:"hypothes.is-"+t.volunteer.hypothesis_id}},[t._v(t._s(t.volunteer.hypothesis_id))]):n("span",{staticClass:"text-muted cursor-pointer",on:{click:function(e){t.showBasicInfoForm=!0}}},[t._v("\n                add "),t._m(1)])]),t._v(" "),n("dt",{staticClass:"col-sm-5"},[t._v("Institution:")]),t._v(" "),n("dd",{staticClass:"col-sm-7"},[t.volunteer.institution?n("span",[t._v(t._s(t.volunteer.institution))]):t._e()]),t._v(" "),n("dt",{staticClass:"col-sm-5"},[t._v("Address:")]),t._v(" "),n("dd",{staticClass:"col-sm-7"},[t.volunteer.street1?n("div",[t._v(t._s(t.volunteer.street1))]):t._e(),t._v(" "),t.volunteer.street2?n("div",[t._v(t._s(t.volunteer.street2))]):t._e(),t._v(" "),n("div",[t.volunteer.city?n("span",[t._v(t._s(t.volunteer.city))]):t._e(),t._v(" "),t.volunteer.state?n("span",[t._v(", "+t._s(t.volunteer.state))]):t._e(),t._v(" "),t.volunteer.zip?n("span",[t._v(", "+t._s(t.volunteer.zip))]):t._e()]),t._v(" "),t.volunteer.country_id?n("div",[t._v(t._s(t.countryLookup[t.volunteer.country_id]))]):t._e()]),t._v(" "),t._m(2),t._v(" "),n("dd",{staticClass:"col-sm-7"},[t._v(t._s(t.volunteer.timezone)+" - "+t._s(t.currentTimezone))])]),t._v(" "),n("b-modal",{attrs:{title:"Edit Contact Info","hide-footer":"",size:"lg"},model:{value:t.showBasicInfoForm,callback:function(e){t.showBasicInfoForm=e},expression:"showBasicInfoForm"}},[n("basic-info-form",{attrs:{volunteer:t.volunteer,countries:t.countries},on:{saved:t.handleFormSave}})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-icons"},[e("small",[e("small",[this._v("edit")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"material-icons"},[e("small",[e("small",[this._v("edit")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dt",{staticClass:"col-sm-5"},[this._v("Closest City & Timezone"),e("br")])}],!1,null,null,null).exports},props:{volunteer:{reqired:!0,type:Object}}},I=Object(m.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("assignment-card",{attrs:{volunteer:t.volunteer},on:{updatevolunteer:function(e){return t.$emit("updatevolunteer")}}})],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("basic-info-card",{attrs:{volunteer:t.volunteer},on:{updatevolunteer:function(e){return t.$emit("updatevolunteer",e)}}})],1)])])}),[],!1,null,null,null).exports,E={props:{surveyData:{required:!0,type:null|Object}},data:function(){return{fields:["variable","value"]}},computed:{attributes:function(){if(!this.surveyData)return[];for(var t=Object.keys(this.surveyData),e=[],n=0;n<t.length;n++){var r=t[n];if(!(["respondent_type","respondent_id","survey_id","duration","last_page"].indexOf(r)>-1)){var s=this.surveyData[r];e.push({variable:r,value:s})}}return e}},methods:{isArray:function(t){return t instanceof Array}}},N={components:{SurveyData:Object(m.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.attributes.length>0?n("b-table",{attrs:{items:t.attributes,small:"",hover:"","header-variant":"light",fields:t.fields},scopedSlots:t._u([{key:"cell(variable)",fn:function(e){var r=e.item;return[n("strong",[t._v(t._s(r.value.variable))])]}},{key:"cell(value)",fn:function(e){var r=e.item;return[t.isArray(r.value.value)?n("ul",{staticClass:"list-unstyled"},t._l(r.value.value,(function(e,r){return n("li",{key:r},[t._v("\n                    "+t._s(e)+"\n                ")])})),0):n("div",[t._v("\n                "+t._s(r.value.value)+"\n            ")])]}}],null,!1,1813393694)}):n("div",{staticClass:"alert alert-danger my-4 col-10 mx-auto"},[t._t("default")],2)],1)}),[],!1,null,null,null).exports},props:{volunteer:{required:!0,type:Object}},data:function(){return{}},computed:{},methods:{}},U=Object(m.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-tabs",{attrs:{vertical:"",pills:""}},[n("b-tab",{attrs:{title:"Application"}},[n("survey-data",{attrs:{"survey-data":t.volunteer.application}},[n("h4",[n("strong",[t._v("This volunteer did not complete an application.")])]),t._v("\n                \n                Based on the expected workflow this is not possible, but there are a few ways it could have happened:\n                \n                "),n("ul",[n("li",[t._v("This is a "),n("strong",[t._v("test database")]),t._v(" and you are looking at a volunteer that was created for testing purposes w/o completing an applications survey.")]),t._v(" "),n("li",[t._v("An admin "),n("strong",[t._v("created")]),t._v(" a volunteer user "),n("strong",[t._v("using the admin panel")]),t._v(".")]),t._v(" "),n("li",[t._v("Something mysterious is going on and you should contact an administrator.")])])])],1),t._v(" "),n("b-tab",{attrs:{title:"3 Month Followup"}},[n("survey-data",{attrs:{"survey-data":t.volunteer.three_month}},[n("non-volunteer",[t._v("The volunteer hasn't completed a 3 month followup yet")]),t._v(" "),n("only-volunteer",[t._v("\n                    No data yet.\n                ")])],1)],1),t._v(" "),n("b-tab",{attrs:{title:"6 Month Followup"}},[n("survey-data",{attrs:{"survey-data":t.volunteer.six_month}},[n("non-volunteer",[t._v("The volunteer hasn't completed a 6 month followup yet")]),t._v(" "),n("only-volunteer",[t._v("\n                    No data yet.\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;var V={props:{volunteer:{type:Object,required:!0}},data:function(){return{attestations:[]}}},T=Object(m.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),t._l(t.volunteer.attestations,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.aptitude.name))]),t._v(" "),n("td",[e.signed_at?n("span",[t._v(t._s(t._f("formatDate")(e.signed_at,"YYYY-MM-DD")))]):n("span",{staticClass:"text-muted"},[t._v("unsigned")])])])})),t._v(" "),0==t.volunteer.attestations.length?n("tr",[t._m(1)]):t._e()],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Aptitude")]),this._v(" "),e("th",[this._v("Date Signed")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"2"}},[e("div",{staticClass:"alert alert-secondary text-center"},[this._v("No attestations signed.")])])}],!1,null,null,null).exports,z={props:{volunteer:{required:!0,type:Object}},computed:{hasDangerStatus:function(){return["retired","unresponsive","declined"].indexOf(this.volunteer.volunteer_status.name.toLowerCase())>-1}}},q=Object(m.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[t.hasDangerStatus?n("div",{staticClass:"alert alert-danger"},[n("button",{staticClass:"float-right btn btn-light btn-sm",on:{click:function(e){return t.$emit("updatestatus")}}},[t._v("Update Status")]),t._v(" "),n("strong",[t._v("Status Notice:")]),t._v("\n        This volunteer has been marked\n        "),n("strong",[t._v(t._s(t.volunteer.volunteer_status.name))])]):t._e()])}),[],!1,null,null,null).exports,L={props:{volunteer:{required:!0,type:Object}},data:function(){return{fields:["variable","value"]}},computed:{applicationData:function(){if(!this.volunteer.application)return[];for(var t=Object.keys(this.volunteer.application),e=[],n=0;n<t.length;n++){var r=t[n];if(!(["respondent_type","respondent_id","survey_id","duration","last_page"].indexOf(r)>-1)){var s=this.volunteer.application[r];e.push({variable:r,value:s})}}return e}},methods:{isArray:function(t){return t instanceof Array}}},Y=Object(m.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[t.applicationData.length>0?n("b-table",{attrs:{items:t.applicationData,small:"",hover:"","header-variant":"light",fields:t.fields},scopedSlots:t._u([{key:"cell(variable)",fn:function(e){var r=e.item;return[n("strong",[t._v(t._s(r.variable))])]}},{key:"cell(value)",fn:function(e){var r=e.item;return[t.isArray(r.value)?n("ul",{staticClass:"list-unstyled"},t._l(r.value,(function(e,r){return n("li",{key:r},[t._v("\n                    "+t._s(e)+"\n                ")])})),0):n("div",[t._v("\n                "+t._s(r.value)+"\n            ")])]}}],null,!1,129419070)}):n("div",{staticClass:"alert alert-danger my-4 col-10 mx-auto"},[n("h4",[n("strong",[t._v("This volunteer did not complete an application.")])]),t._v("\n        \n        Based on the expected workflow this is not possible, but there are a few ways it could have happened:\n        \n        "),n("ul",[n("li",[t._v("This is a "),n("strong",[t._v("test database")]),t._v(" and you are looking at a volunteer that was created for testing purposes w/o completing an applications survey.")]),t._v(" "),n("li",[t._v("An admin "),n("strong",[t._v("created")]),t._v(" a volunteer user "),n("strong",[t._v("using the admin panel")]),t._v(".")]),t._v(" "),n("li",[t._v("Something mysterious is going on and you should contact an administrator.")])])])],1)}),[],!1,null,null,null).exports,B=n("tJPs"),M=n("Qsky"),R=n("kJa9");function J(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}var H,W={props:{volunteer:{required:!0,type:R.a}},data:function(){return{newStatus:null,volunteerStatuses:[]}},methods:{fetchVolunteerStatuses:(H=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){J(i,r,s,a,o,"next",t)}function o(t){J(i,r,s,a,o,"throw",t)}a(void 0)}))}}(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(M.a)();case 2:this.volunteerStatuses=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return H.apply(this,arguments)}),updateVolunteerStatus:function(){var t=this,e="Are you sure you want to update the volunteer's status?";switch(this.newStatus.name){case this.volunteer.volunteer_status.name:return void this.$emit("no-change");case"Retired":e="You are about to retire this volunteer.  This will also retire all of their assignments.  Are you sure you want to continue?"}confirm(e)&&Object(o.a)(this.volunteer.id,{volunteer_status_id:this.newStatus.id}).then((function(e){t.$emit("updatevolunteer")}))}},mounted:function(){this.fetchVolunteerStatuses(),this.newStatus=this.volunteer.volunteer_status}},G=Object(m.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-md-3",attrs:{for:"volunteer-status-select"}},[t._v("Volunteer Status")]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newStatus,expression:"newStatus"}],staticClass:"form-control form-control-sm",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.newStatus=e.target.multiple?n:n[0]}}},t._l(t.volunteerStatuses,(function(e,r){return n("option",{key:r,domProps:{value:e}},[t._v(t._s(e.name))])})),0)]),t._v(" "),n("div",{staticClass:"col-md-3"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.updateVolunteerStatus}},[t._v("\n                Update Status\n            ")])])])])}),[],!1,null,null,null).exports,Q={props:{volunteer:{required:!0,type:Object}},data:function(){return{showModal:!1,categories:[],newUpload:{},errors:{},uploading:!1}},methods:{getUploadCategories:function(){var t=this;window.axios.get("/api/upload-categories").then((function(e){return t.categories=e.data.data}))},initNewUpload:function(){this.newUpload={name:"",upload_category_id:"",notes:""}},initErrors:function(){this.errors={}},clearForm:function(){this.initNewUpload(),this.initErrors()},prepopulateName:function(){""==this.newUpload.name&&(this.newUpload.name=this.$refs.uploadField.files[0].name)},uploadFile:function(t){var e=this;this.initErrors(),t.preventDefault();var n=new FormData;return n.append("user_id",this.volunteer.id),n.append("name",this.newUpload.name),n.append("file",this.$refs.uploadField.files[0]),n.append("upload_category_id",this.newUpload.upload_category_id),n.append("notes",this.newUpload.notes),this.uploading=!0,window.axios.post("/api/curator-uploads",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("uploaded"),e.clearForm(),e.$nextTick((function(){return e.$refs.uploadModal.hide()}))})).catch((function(t){422!=t.response.status?413!=t.response.status?alert("There was an unkown problem with your file upload."):e.errors={file:["The file was too large"]}:e.errors=t.response.data.errors})).then((function(){e.uploading=!1}))},launchFileSelector:function(){this.$refs.uploadField.click()}},mounted:function(){this.getUploadCategories(),this.initNewUpload(),this.initErrors()}},K=Object(m.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.showModal=!0}}},[t._v("Add Document")]),t._v(" "),n("b-modal",{ref:"uploadModal",attrs:{title:"Upload a Document","ok-disabled":t.uploading,"cancel-disabled":t.uploading,"ok-title":t.uploading?"Uploading...":"Upload"},on:{ok:t.uploadFile,cancel:t.clearForm},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"file-field"}},[t._v("File:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{ref:"uploadField",staticClass:"form-control-file",attrs:{type:"file",id:"file-field",disabled:t.uploading},on:{change:function(e){return t.prepopulateName()}}}),t._v(" "),n("validation-error",{attrs:{errors:t.errors.file}})],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.name,expression:"newUpload.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"name",maxlength:"255",disabled:t.uploading},domProps:{value:t.newUpload.name},on:{input:function(e){e.target.composing||t.$set(t.newUpload,"name",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{errors:t.errors.name}})],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"category_id"}},[t._v("Category:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.upload_category_id,expression:"newUpload.upload_category_id"}],staticClass:"form-control form-control-sm",attrs:{name:"category_id",id:"category_id",disabled:t.uploading},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.newUpload,"upload_category_id",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("None")]),t._v(" "),t._l(t.categories,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))],2),t._v(" "),n("validation-error",{attrs:{errors:t.errors.upload_category_id}})],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"notes"}},[t._v("\n                Notes:\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.notes,expression:"newUpload.notes"}],staticClass:"form-control form-control-sm",attrs:{name:"notes",id:"notes",cols:"30",rows:"5",maxlegnth:"65535",disabled:t.uploading},domProps:{value:t.newUpload.notes},on:{input:function(e){e.target.composing||t.$set(t.newUpload,"notes",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{errors:t.errors.notes}})],1)])])],1)}),[],!1,null,null,null).exports;function Z(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}function X(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){Z(i,r,s,a,o,"next",t)}function o(t){Z(i,r,s,a,o,"throw",t)}a(void 0)}))}}var tt=function(t){return et.apply(this,arguments)};function et(){return(et=X(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/curator-uploads",t.next=3,axios.get("/api/curator-uploads"+(e?"?"+e:"")).then((function(t){return t.data.data}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var it={components:{DocumentUploader:K},props:{volunteer:{reqired:!0,type:Object}},data:function(){var t=this;return{showDetailedInfo:!1,loadingDocuments:!1,documents:[],currentDocument:null,filter:"",fields:[{key:"id",sortable:!0},{key:"name",sortable:!0},{key:"category.name",sortable:!0,label:"Category"},{key:"created_at",label:"Created",sortable:!0,formatter:function(e,n,r){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}},{key:"uploader.name",label:"Uploaded by",sortable:!0},"action"],filteredFields:["name","id","category","uploader","uploader"]}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){st(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(i.c)({user:"getUser"})),methods:{getDocuments:function(){var t=this;return function(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){nt(i,r,s,a,o,"next",t)}function o(t){nt(i,r,s,a,o,"throw",t)}a(void 0)}))}}(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingDocuments=!0,e.next=3,tt("with[]=category&with[]=uploader&where[user_id]="+t.volunteer.id);case 3:t.documents=e.sent,t.loadingDocuments=!1;case 5:case"end":return e.stop()}}),e)})))()},showDetails:function(t){console.log("farts"),this.currentDocument=t,this.showDetailedInfo=!0},downloadFile:function(t){axios.get("/api/curator-uploads/"+t.id+"/file",{responseType:"blob"}).then((function(e){console.log(e.data);var n=e.data,r=window.document.createElement("a"),s=window.URL.createObjectURL(n);r.href=s,r.download=t.name,window.document.body.append(r),r.click(),r.remove(),window.URL.revokeObjectURL(s)})).catch((function(t){if(!t.response||404!=t.response.status)throw t;alert("We couldn't seem to find the file you requested.")}))},deleteDocument:function(t){var e=this;confirm("Are you sure you want to delete the document "+t.name+"?")&&axios.delete("/api/curator-uploads/"+t.id).then((function(t){e.getDocuments()}))}},mounted:function(){this.getDocuments()}},at={components:{DocumentUploader:K,DocumentsList:Object(m.a)(it,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadingDocuments?n("div",{staticClass:"alert alert-info"},[t._v("Loading...")]):t._e(),t._v(" "),t.loadingDocuments||0!=t.documents.length?t._e():n("div",{staticClass:"alert alert-light border"},[t._v("\n        No documents found\n    ")]),t._v(" "),t.documents.length>0?n("div",[n("div",{staticClass:"form-inline mb-1"},[n("label",{attrs:{for:"list-filter-input"}},[t._v("Filter:")]),t._v(" \n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),t._v(" "),n("b-table",{attrs:{fields:t.fields,items:t.documents,filter:t.filter,"filter-included-fields":t.filteredFields},scopedSlots:t._u([{key:"cell(action)",fn:function(e){var r=e.item;return[n("a",{attrs:{href:"#",title:"Download document"},on:{click:function(e){return e.preventDefault(),t.downloadFile(r)}}},[n("i",{staticClass:"material-icons"},[t._v("cloud_download")])]),t._v(" "),n("a",{attrs:{href:"#",title:"Detailed information"},on:{click:function(e){return e.preventDefault(),t.showDetails(r)}}},[n("i",{staticClass:"material-icons"},[t._v("info")])]),t._v(" "),t.user.id==r.uploader_id?n("a",{staticClass:"text-danger",attrs:{href:"#",title:"Delete document"},on:{click:function(e){return e.preventDefault(),t.deleteDocument(r)}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])]):t._e()]}}],null,!1,427390355)})],1):t._e(),t._v(" "),t.currentDocument?n("b-modal",{attrs:{"hide-footer":"",title:t.currentDocument.name,size:"lg"},model:{value:t.showDetailedInfo,callback:function(e){t.showDetailedInfo=e},expression:"showDetailedInfo"}},[n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-md-2"},[t._v("Name:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.name))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("File name:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.file_name?t.currentDocument.file_name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Category:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.category?t.currentDocument.category.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Date uploaded:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t._f("formatDate")(t.currentDocument.created_at,"YYYY-MM-DD")))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Uploaded by:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.uploader?t.currentDocument.uploader.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Notes:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.notes?t.currentDocument.notes:"--"))])]),t._v(" "),n("div",{staticClass:"mt-2"},[n("button",{staticClass:"btn btn-primary text-middle btn-sm",attrs:{title:"Download document"},on:{click:function(e){return t.downloadFile(t.currentDocument)}}},[t._v("\n                Download document\n            ")])])]):t._e()],1)}),[],!1,null,null,null).exports},props:{volunteer:{reqired:!0,type:Object}},data:function(){return{}},methods:{}},ot=Object(m.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[n("document-uploader",{staticClass:"float-right",attrs:{volunteer:t.volunteer},on:{uploaded:function(e){return t.$refs.docList.getDocuments()}}}),t._v("\n        Documents\n    ")],1),t._v(" "),n("documents-list",{ref:"docList",attrs:{volunteer:t.volunteer}})],1)}),[],!1,null,null,null).exports,lt={props:{volunteer:{required:!0,type:Object}},computed:{trainings:function(){return this.volunteer.assignments.map((function(t){return t.user_aptitudes.items})).flat()}},methods:{}},ut=Object(m.a)(lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),t._l(t.trainings,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.aptitude.name))]),t._v(" "),n("td",[e.trained_at?n("span",[t._v(t._s(t._f("formatDate")(e.trained_at,"YYYY-MM-DD")))]):n("span",{staticClass:"text-muted"},[t._v("incomplete")])])])})),t._v(" "),0==t.trainings.length?n("tr",[t._m(1)]):t._e()],2),t._v(" "),n("div",{staticClass:"alert alert-light border"},[t._v("\n        Note that this list currently includes only trainings and completed dates related directly to assignments and aptitudes, it does not track individual training sessions.\n    ")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Topic")]),this._v(" "),e("th",[this._v("Date Completed")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"2"}},[e("div",{staticClass:"alert alert-secondary text-center"},[this._v("No trainings assigned.")])])}],!1,null,null,null).exports;function ct(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}function vt(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){ct(i,r,s,a,o,"next",t)}function o(t){ct(i,r,s,a,o,"throw",t)}a(void 0)}))}}function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft={props:{volunteer:{type:Object,required:!0}},data:function(){return{formVisible:!1,selfDesc:null,selfDescOther:null,selfDescriptions:null,education:null,educationOther:null,educationLevels:{1:"Some high school education",2:"High school diploma",3:"Bachelor's degree",4:"Master's degree",5:"M.D.",6:"Ph.D."},race:null,raceOther:null,races:["American Indian or Alaska Native","Asian","Black or African American","Hispanic or Latino","Native Hawaiian or Other Pacific Islander","White"],submitting:!1,responded:!0}},computed:mt(mt({},Object(i.c)({user:"getUser"})),{},{showSelfDesc:function(){return null===this.volunteer.application.self_desc.rawValue},showEducation:function(){return null===this.volunteer.application.highest_ed.rawValue},showRace:function(){return null===this.volunteer.application.race_ethnicity.rawValue}}),watch:{user:function(){this.user.isLoaded()&&(this.responded=!!this.user.getPreference("hide_demographic_ad"))}},methods:mt(mt({},Object(i.d)(["setUser","messages/addInfo"])),{},{showForm:function(){this.formVisible=!0},hideForm:function(){this.formVisible=!1},declineDemographics:function(){this.setResponded()},clearForm:function(){this.selfDesc=null,this.selfDescOther=null,this.education=null,this.educationOther=null,this.race=null,this.raceOther=null},cancelForm:function(){this.$emit("responded"),this.clearForm(),this.formVisible=!1},setResponded:function(){var t=this;return vt(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t.user.id,s="hide_demographic_ad",i=void 0,i={value:!0},window.axios.put("/api/users/"+r+"/preferences/"+s,i).then((function(t){return sessionStorage.setItem("user",JSON.stringify(t.data.data)),t.data.data}));case 2:n=e.sent,t.setUser(n);case 4:case"end":return e.stop()}var r,s,i}),e)})))()},submitDemographics:function(){var t=this;this.formVisible=!1,this.submitting=!0,this["messages/addInfo"]("Thanks for sharing your demographic info with us.");var e={self_desc:this.selfDesc,self_desc_other:this.selfDescOther,highest_ed:this.education,highest_ed_other:this.educationOther,race_ethnicity:null===this.race?this.race:JSON.stringify(this.race),race_ethnicity_other_detail:this.raceOther};Object.values(e).filter((function(t){return null!==t})).length>0&&this.setResponded(),window.axios.put("/api/volunteers/"+this.volunteer.id+"/demographics/",e).then((function(e){t.submitting=!1,t.clearForm(),t.$emit("updated")}))}}),mounted:function(){var t=this;return vt(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.axios.get("/api/self-descriptions").then((function(t){return t.data.data.filter((function(t){return 1==t.active&&100!=t.id}))}));case 2:t.selfDescriptions=e.sent,t.responded=1==t.user.getPreference("hide_demographic_ad");case 4:case"end":return e.stop()}}),e)})))()}},ht=Object(m.a)(ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.volunteer.hasDemographicInfo()||t.responded?t._e():n("div",[n("div",{staticClass:"alert alert-info"},[n("h5",[t._v("We have some demographic questions.")]),t._v(" "),n("p",[t._v("\n                Please share a little about yourself to help us understand who volunteers with C3. \n                These questions are optional. If you'd prefer not to share, just hit the \"I'd rather not\" button below.\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-light border",on:{click:t.declineDemographics}},[t._v("I'd rather not")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.showForm}},[t._v("Sure, I'll share")])])]),t._v(" "),n("b-modal",{attrs:{"hide-footer":"",size:"lg",title:"Demographic Questions"},on:{hidden:t.cancelForm},model:{value:t.formVisible,callback:function(e){t.formVisible=e},expression:"formVisible"}},[t.showSelfDesc?n("question-block",[n("div",{attrs:{slot:"question-text"},slot:"question-text"},[n("strong",[t._v("How would you best describe yourself?")])]),t._v(" "),n("div",{attrs:{slot:"answer-block"},slot:"answer-block"},[n("b-form-radio-group",{staticClass:"pl-2",attrs:{stacked:""}},[t._l(t.selfDescriptions,(function(e){return n("b-form-radio",{key:e.id,attrs:{value:e.id},model:{value:t.selfDesc,callback:function(e){t.selfDesc=e},expression:"selfDesc"}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),t._v(" "),n("div",{staticClass:"form-inline"},[n("b-form-radio",{attrs:{value:"100"},model:{value:t.selfDesc,callback:function(e){t.selfDesc=e},expression:"selfDesc"}},[t._v("\n                            Other\n                        ")]),t._v("\n                         \n                        "),100==t.selfDesc?n("b-form-input",{attrs:{placeholder:"details"},model:{value:t.selfDescOther,callback:function(e){t.selfDescOther=e},expression:"selfDescOther"}}):t._e()],1)],2)],1)]):t._e(),t._v(" "),t.showEducation?n("question-block",[n("div",{attrs:{slot:"question-text"},slot:"question-text"},[n("strong",[t._v("What is your highest level of education?")])]),t._v(" "),n("div",{attrs:{slot:"answer-block"},slot:"answer-block"},[n("b-form-radio-group",{staticClass:"pl-2",attrs:{stacked:""}},[t._l(t.educationLevels,(function(e,r){return n("b-form-radio",{key:r,attrs:{value:r},model:{value:t.education,callback:function(e){t.education=e},expression:"education"}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),t._v(" "),n("div",{staticClass:"form-inline"},[n("b-form-radio",{attrs:{value:"100"},model:{value:t.education,callback:function(e){t.education=e},expression:"education"}},[t._v("\n                            Other\n                        ")]),t._v("\n                         \n                        "),100==t.education?n("b-form-input",{attrs:{placeholder:"details"},model:{value:t.educationOther,callback:function(e){t.educationOther=e},expression:"educationOther"}}):t._e()],1)],2)],1)]):t._e(),t._v(" "),t.showRace?n("question-block",[n("div",{attrs:{slot:"question-text"},slot:"question-text"},[n("strong",[t._v("What is your race/ethnicity?")])]),t._v(" "),n("div",{attrs:{slot:"answer-block"},slot:"answer-block"},[n("b-form-checkbox-group",{staticClass:"pl-2",attrs:{stacked:""}},[t._l(t.races,(function(e){return n("b-form-checkbox",{key:e,attrs:{value:e},model:{value:t.race,callback:function(e){t.race=e},expression:"race"}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),t._v(" "),n("div",{staticClass:"form-inline"},[n("b-form-checkbox",{attrs:{value:100},model:{value:t.race,callback:function(e){t.race=e},expression:"race"}},[t._v("Other")]),t._v("\n                         \n                        "),null!==t.race&&t.race.indexOf(100)>-1?n("b-form-input",{model:{value:t.raceOther,callback:function(e){t.raceOther=e},expression:"raceOther"}}):t._e()],1)],2)],1)]):t._e(),t._v(" "),n("div",[n("button",{staticClass:"btn btn-light",on:{click:t.cancelForm}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.submitDemographics}},[t._v("Submit")])])],1)],1)}),[],!1,null,null,null).exports;function _t(t,e,n,r,s,i,a){try{var o=t[i](a),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,s)}function gt(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function a(t){_t(i,r,s,a,o,"next",t)}function o(t){_t(i,r,s,a,o,"throw",t)}a(void 0)}))}}function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wt,Ct={props:{id:{type:Number,required:!0},initialVolunteer:{type:Object,default:function(){return{}}}},components:{volunteerSummary:I,volunteerStatusAlert:q,ApplicationData:Y,PrioritiesList:B.a,StatusForm:G,DocumentsCard:ot,AttestationsList:T,SurveyResponses:U,TrainingsList:ut,DemographicInfo:ht},data:function(){return{testing:!0,loading:!1,volunteer:new R.a(this.initialVolunteer),application:{},showStatusForm:!1,showVolunteerTypeForm:!1,newStatus:null,showImpersonatingProgress:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({isComprehensive:function(){return 2==this.volunteer.volunteer_type_id}},Object(i.c)({user:"getUser"})),methods:{findVolunteer:(wt=gt(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(a.a)(this.id);case 3:this.volunteer=t.sent,this.loading=!1;case 5:case"end":return t.stop()}}),t,this)}))),function(){return wt.apply(this,arguments)}),fetchVolunteerStatuses:function(){var t=gt(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,getAllVolunteerStatuses();case 2:this.volunteerStatuses=t.sent;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),closeStatusWindow:function(){this.showStatusForm=!1},reloadVolunteer:function(){this.closeStatusWindow(),this.findVolunteer()},convertVolunteerToComprehensive:function(){var t=this;Object(o.a)(this.volunteer.id,{volunteer_type_id:2}).then((function(){return t.findVolunteer()})).then((function(){return t.showVolunteerTypeForm=!1}))},handleUpdate:function(t){t?this.volunteer=t:this.findVolunteer()},impersonateVolunteer:function(){this.showImpersonatingProgress=!0,Object(l.a)(this.volunteer.id)}},created:function(){this.initialVolunteer=={}&&this.findVolunteer()}},Ot=Object(m.a)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[t.$store.state.user.isProgrammer()?n("div",{staticClass:"p-2 border my-2"},[t._m(0),t._v(" "),n("button",{staticClass:"btn btn-dark btn-sm",on:{click:t.findVolunteer}},[t._v("Reload volunteer")])]):t._e(),t._v(" "),t.loading&&!t.volunteer.name?n("div",{staticClass:"card loading text-center"},[n("div",{staticClass:"card-header"},[t._v("Loading volunteer...")])]):t._e(),t._v(" "),!t.loading||t.volunteer.name?n("div",{staticClass:"card card-default"},[n("div",{staticClass:"card-header"},[n("non-volunteer",[n("b-dropdown",{staticClass:"float-right",attrs:{id:"user-menu-dropdown",text:"...",variant:"light","no-caret":"",right:""}},[n("b-dropdown-item",{on:{click:function(e){t.showStatusForm=!0}}},[t._v("Update Status")]),t._v(" "),t.volunteer.isComprehensive()?t._e():n("b-dropdown-item",{on:{click:function(e){t.showVolunteerTypeForm=!0}}},[t._v("Make Comprehensive")]),t._v(" "),t.$store.state.user.isProgrammer()||t.$store.state.user.isAdmin()?n("b-dropdown-item",{on:{click:t.impersonateVolunteer}},[t._v("Impersonate this volunteer")]):t._e()],1)],1),t._v(" "),n("h3",{staticClass:"mb-0"},[t._v("Volunteer - "+t._s(t.volunteer.name||"loading...")+" "),n("small",[t._v("("+t._s(t.volunteer.id)+")")])])],1),t._v(" "),n("div",{staticClass:"card-body"},[n("only-volunteer",[n("demographic-info",{attrs:{volunteer:t.volunteer},on:{updated:t.handleUpdate}})],1),t._v(" "),n("non-volunteer",[n("volunteer-status-alert",{attrs:{volunteer:t.volunteer},on:{updatestatus:function(e){t.showStatusForm=!0},updatevolunteer:t.findVolunteer}})],1),t._v(" "),n("b-tabs",{attrs:{"content-class":"p-3 border-left border-right border-bottom"}},[n("b-tab",{attrs:{title:"Summary",active:""}},[n("volunteer-summary",{attrs:{volunteer:t.volunteer},on:{updatestatus:function(e){t.showStatusForm=!0},updatevolunteer:t.handleUpdate}})],1),t._v(" "),n("b-tab",{attrs:{title:"Attestations"}},[n("attestations-list",{attrs:{volunteer:t.volunteer}})],1),t._v(" "),n("b-tab",{attrs:{title:"Trainings"}},[n("trainings-list",{attrs:{volunteer:t.volunteer}})],1),t._v(" "),n("b-tab",{attrs:{title:"Documents"}},[n("documents-card",{attrs:{volunteer:t.volunteer}})],1),t._v(" "),t.volunteer.isComprehensive()?n("b-tab",{attrs:{title:"Priorities"}},[n("priorities-list",{attrs:{volunteer:t.volunteer}})],1):t._e(),t._v(" "),n("b-tab",{attrs:{title:"Survey Data"}},[n("survey-responses",{attrs:{volunteer:t.volunteer}})],1),t._v(" "),t.user.hasPermission("create notes")?n("b-tab",{attrs:{title:"Notes"}},[n("notes-list",{attrs:{"notable-type":"App\\User","notable-id":t.volunteer.id}})],1):t._e()],1)],1)]):t._e(),t._v(" "),n("b-modal",{attrs:{title:"Update Status","hide-footer":""},model:{value:t.showStatusForm,callback:function(e){t.showStatusForm=e},expression:"showStatusForm"}},[n("status-form",{attrs:{volunteer:t.volunteer},on:{updatevolunteer:t.reloadVolunteer,"no-change":function(e){t.showStatusForm=!1}}})],1),t._v(" "),n("b-modal",{attrs:{title:"Convert Volunteer to Comprehensive?","hide-footer":""},model:{value:t.showVolunteerTypeForm,callback:function(e){t.showVolunteerTypeForm=e},expression:"showVolunteerTypeForm"}},[n("p",[t._v("You are about to convert this volunteer from Baseline to Comprehensive.")]),t._v(" "),n("p",[t._v("If you confirm the volunteer will be notified and instructed prioritize Curation Activities and Curation Groups.")]),t._v(" "),n("button",{staticClass:"btn btn-default",on:{click:function(e){t.showVolunteerTypeForm=!1}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.convertVolunteerToComprehensive}},[t._v("Convert")])]),t._v(" "),n("b-modal",{attrs:{"hide-footer":"","hide-header":"","no-close-on-backdrop":"","no-close-on-escape":"","hide-header-close":""},model:{value:t.showImpersonatingProgress,callback:function(e){t.showImpersonatingProgress=e},expression:"showImpersonatingProgress"}},[n("h3",{staticClass:"text-center"},[t._v("Impersonating "+t._s(t.volunteer.name)+".")]),t._v(" "),n("p",{staticClass:"text-center"},[t._v(" \n            The page will reload in a moment...\n        ")])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("small",{staticClass:"text-muted"},[this._v("Dev tools")])])}],!1,null,null,null);e.default=Ot.exports},kJa9:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,t),this.items=e}var e,n,i;return e=t,(n=[{key:Symbol.iterator,value:function(){return this.items.values()}},{key:"push",value:function(t){this.items.push(t)}},{key:"shift",value:function(t){this.items.shift(t)}},{key:"unshift",value:function(t){this.items.unshift(t)}},{key:"filter",value:function(e){return new t(this.items.filter(e))}},{key:"map",value:function(e){return new t(this.items.map(e))}},{key:"includes",value:function(t){return this.items.includes(t)}},{key:"all",value:function(){return this.items}},{key:"get",value:function(t){return this.items[t]}},{key:"put",value:function(t,e){return this.items[t]=e}},{key:"primary",value:function(){return this.filter((function(t){return t.is_primary}))}},{key:"secondary",value:function(){return this.filter((function(t){return!t.is_primary}))}},{key:"length",get:function(){return this.items.length}}])&&s(e.prototype,n),i&&s(e,i),t}(),a=n("1CCS");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,t);var n={id:null,user_id:null,assignable_type:null,assignable_id:null,assignment_status_id:null,parent_id:null,status:{},assignable:{aptitudes:[]},sub_assignments:[],user_aptitudes:[]};for(var r in this.attributes=l(l({},n),e),this.attributes)this.attributes.hasOwnProperty(r)&&(this[r]=this.hydrateAttribute(r,e[r]))}var e,n,r;return e=t,(n=[{key:"getUnassignedAptitudes",value:function(){var t=this,e=this.assignable.aptitudes.filter((function(e){return!t.user_aptitudes.map((function(t){return t.aptitude_id})).includes(e.id)}));return new i(e)}},{key:"hasSubAssignments",value:function(){return this.attributes.sub_assignments.length>0}},{key:"hydrateAttribute",value:function(e,n){switch(e){case"sub_assignments":return null==n?n:n.map((function(e){return new t(e)}));case"user_aptitudes":var r=new a.a;return n?(n.forEach((function(t){r.push(t)})),r):r;case"aptitudes":return new i(n)}return n}}])&&v(e.prototype,n),r&&v(e,r),t}();function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,t);var n={name:null,id:null,volunteer_type:{id:null,name:""},volunteer_status:{id:null,name:""},priorities:[],latest_priorities:[{}],assignments:[]};for(var r in this.attributes=p(p({},n),e),this.attributes)this.attributes.hasOwnProperty(r)&&(this[r]=this.hydrateAttribute(r,e[r]))}var e,n,r;return e=t,(n=[{key:"isLoaded",value:function(){return null!==this.attributes&&void 0!==this.attributes}},{key:"isBaseline",value:function(){if(this.isLoaded())return 1==this.attributes.volunteer_type_id}},{key:"isComprehensive",value:function(){if(this.isLoaded())return 2==this.attributes.volunteer_type_id}},{key:"getAssignedActivities",value:function(){return this.isLoaded?this.attributes.assignments.map((function(t){return t.assignable})):[]}},{key:"assignedToBaseline",value:function(){return this.getAssignedActivities().map((function(t){return t.name})).includes("Baseline")}},{key:"hydrateAttribute",value:function(t,e){return"assignments"==t&&e&&(e=e.map((function(t){return new d(t)}))),e}},{key:"hasApplication",value:function(){return void 0!==this.application&&null!==this.application}},{key:"hasDemographicInfo",value:function(){return null!=this.application.self_desc.rawValue&&null!=this.application.highest_ed.rawValue&&null!=this.application.race_ethnicity.rawValue&&this.application.race_enthnicity!=[]}}])&&_(e.prototype,n),r&&_(e,r),t}();e.a=g},qjDQ:function(t,e,n){"use strict";e.a=function(t,e){return window.axios.put("/api/volunteers/"+t,e)}},tJPs:function(t,e,n){"use strict";var r={props:{volunteer:{required:!0,type:Object},disableSetNew:{type:Boolean,default:!1},disableViewComplete:{type:Boolean,default:!1}},data:function(){return{outsidePanelOptions:{1:"Yes",0:"No",2:"Maybe"}}},computed:{outsidePanel:function(){return this.hasPriorities?this.outsidePanelOptions[this.volunteer.latest_priorities[0].outside_panel]:"no priorities"},prioritiesSurveyLink:function(){return"/app-user/"+this.volunteer.id+"/survey/priorities1/new"},hasPriorities:function(){return this.volunteer.priorities.length>0},responseLink:function(){return this.hasPriorities&&null!==this.volunteer.latest_priorities[0].survey_id?"/surveys-by-id/"+this.volunteer.latest_priorities[0].survey_id+"/responses/"+this.volunteer.latest_priorities[0].response_id:null}}},s=n("KHd+"),i=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[t.hasPriorities?n("div",[t.hasPriorities?n("table",{staticClass:"table table-striped table-sm"},[t._m(2),t._v(" "),n("tbody",t._l(t.volunteer.latest_priorities,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.priority_order))]),t._v(" "),n("td",[t._v(t._s(e.curation_activity.name))]),t._v(" "),n("td",[t._v(t._s(e.curation_group?e.curation_group.name:"--"))]),t._v(" "),n("td",[t._v("\n                        "+t._s(t._f("boolToHuman")(e.effort_experience))+"\n                        "),1==e.effort_experience?n("span",[t._v("\n                            - "+t._s(e.effort_experience_details)+"\n                        ")]):t._e()]),t._v(" "),n("td",[t._v("\n                        "+t._s(t._f("boolToHuman")(e.activity_experience))+"\n                        "),1==e.activity_experience?n("span",[t._v("\n                            - "+t._s(e.activity_experience_details)+"\n                        ")]):t._e()])])})),0)]):n("div",{staticClass:"alert alert-danger my-4 col-10 mx-auto"},[t._m(0),t._v("\n            Based on the expected workflow this is not possible, but there are a few ways it could have happened:\n            "),t._m(1)]),t._v(" "),n("div",{staticClass:"my-2 pb-2 border-bottom"},[t._v("\n            Willing to volunteer outside of preferences: "),n("strong",[t._v(t._s(t.volunteer.latest_priorities[0].outside_panel))])]),t._v(" "),t.disableSetNew||t.disableViewComplete?t._e():n("div",{staticClass:"d-flex justify-content-between pt-2 align-items-center"},[n("a",{staticClass:"btn btn-primary",attrs:{href:t.prioritiesSurveyLink}},[t._v("\n                Set New Priorities\n            ")])])]):n("div",{staticClass:"alert alert-info"},[t.volunteer.isBaseline()?n("div",[t._v("\n            "+t._s(t.$store.state.user.isVolunteer()?"You are":"This volunteer is")+"\n            currently a baseline volunteer.  If "+t._s(t.$store.state.user.isVolunteer()?"You wish":"the volunteer wishes")+"\n            to become a comprehensive volunteer please "),n("a",{attrs:{href:"/app-user/"+this.volunteer.id+"/survey/priorities1/new"}},[t._v("set priorities")]),t._v("\n            to start that process.\n        ")]):n("div",[t._v("\n            You haven't set any priorities.\n        ")]),t._v(" "),n("div",{staticClass:"mt-2"},[n("a",{staticClass:"btn btn-primary",attrs:{href:"/app-user/"+this.volunteer.id+"/survey/priorities1/new"}},[t._v("Set Priorities")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("strong",[this._v("This volunteer did not complete an application.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("This is a "),n("strong",[t._v("test database")]),t._v(" and you are looking at a volunteer that was created for testing purposes w/o completing an applications survey.")]),t._v(" "),n("li",[t._v("An admin "),n("strong",[t._v("created")]),t._v(" a volunteer user "),n("strong",[t._v("using the admin panel")]),t._v(".")]),t._v(" "),n("li",[t._v("Something mysterious is going on and you should contact an administrator.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Rank")]),t._v(" "),n("th",[t._v("Curation Activity")]),t._v(" "),n("th",[t._v("Curation Group")]),t._v(" "),n("th",[t._v("Effort Experience")]),t._v(" "),n("th",[t._v("Activity Experience")])])])}],!1,null,null,null);e.a=i.exports}}]);
//# sourceMappingURL=volunteer-detail.c3f3284b8a72aed8e516.js.map