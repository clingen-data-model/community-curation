(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3+/6":function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var a=e("1Iqk"),r=e("gJEe");function i(t){return window.axios.get("".concat("/api/users","?").concat(Object(a.a)(t))).then((function(t){return t.data.data=t.data.data.map((function(t){return new r.a(t)})),t}))}},"KHd+":function(t,n,e){"use strict";function a(t,n,e,a,r,i,s,o){var c,u="function"==typeof t?t.options:t;if(n&&(u.render=n,u.staticRenderFns=e,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):r&&(c=o?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,n){return c.call(n),l(t,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:u}}e.d(n,"a",(function(){return a}))},t2Tq:function(t,n,e){"use strict";e.r(n);var a=e("o0o1"),r=e.n(a),i=e("3+/6"),s=e("f0Wu"),o=e.n(s),c={props:{title:{type:String,required:!1},value:{required:!0}}},u=e("KHd+");function l(t,n,e,a,r,i,s){try{var o=t[i](s),c=o.value}catch(t){return void e(t)}o.done?n(c):Promise.resolve(c).then(a,r)}function p(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var i=t.apply(n,e);function s(t){l(i,a,r,s,o,"next",t)}function o(t){l(i,a,r,s,o,"throw",t)}s(void 0)}))}}var d={components:{MetricBox:Object(u.a)(c,(function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"metric-box mx-3"},[n("h5",{attrs:{scope:"heading"}},[this._v(this._s(this.title))]),this._v(" "),n("div",{staticClass:"metric text-center lead"},[this._v("\n        "+this._s(this.value)+"\n    ")])])}),[],!1,null,null,null).exports},data:function(){return{sevenDayLogins:null,thirtyDayLogins:null,neverLoggedIn:null,sevenDayApplications:null,thirtyDayApplications:null,now:new Date,aug6:new Date(2020,8,6),aug29:new Date(2020,8,29)}},methods:{getNeverLoggedIn:function(){var t=this;return p(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.a)({last_logged_in_at:0}).then((function(t){return t.data.data.length}));case 2:t.neverLoggedIn=n.sent;case 3:case"end":return n.stop()}}),n)})))()},getSevenDayLogins:function(){var t=this;return p(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getLoginsInLast(7,"day");case 2:t.sevenDayLogins=n.sent;case 3:case"end":return n.stop()}}),n)})))()},getThirtyDayLogins:function(){var t=this;return p(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getLoginsInLast(30,"day");case 2:t.thirtyDayLogins=n.sent;case 3:case"end":return n.stop()}}),n)})))()},getLoginsInLast:function(t,n){return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({last_logged_in_at:o()().subtract(t,n).utc().format("YYYY-MM-DD HH:mm:ss")}).then((function(t){return t.data.data.length}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},getSevenDayApplications:function(){var t=this;return p(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getApplicationsInLast(7,"day");case 2:t.sevenDayApplications=n.sent;case 3:case"end":return n.stop()}}),n)})))()},getThirtyDayApplications:function(){var t=this;return p(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getApplicationsInLast(30,"day");case 2:t.thirtyDayApplications=n.sent;case 3:case"end":return n.stop()}}),n)})))()},getApplicationsInLast:function(t,n){return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.axios.get("/api/applicaitons?finalized_at=".concat(o()().subtract(t,n).utc().format("YYYY-MM-DD HH:mm:ss"),"&only_count=1")).then((function(t){return t.data.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},getMetrics:function(){this.getSevenDayLogins(),this.getThirtyDayLogins(),this.getSevenDayApplications(),this.getThirtyDayApplications(),this.getNeverLoggedIn()}},mounted:function(){this.getMetrics()}},v=Object(u.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"activity-metrics-container d-flex"},[e("metric-box",{attrs:{title:"New applications in last 7 days",value:t.sevenDayApplications}}),t._v(" "),e("metric-box",{attrs:{title:"New applications in last 30 days",value:t.thirtyDayApplications}}),t._v(" "),e("metric-box",{attrs:{title:"Logged in last 7 days",value:t.sevenDayLogins}}),t._v(" "),e("metric-box",{attrs:{title:"Logged in last 30 days",value:t.thirtyDayLogins}}),t._v(" "),e("metric-box",{attrs:{title:"Never logged in",value:t.neverLoggedIn}})],1),t._v(" "),t.now<t.aug6?e("div",{staticClass:"note text-muted"},[e("small",[t._v("* 7 day login numbers will not be accurate until Aug. 6")])]):t._e(),t._v(" "),t.now<t.aug29?e("div",{staticClass:"note text-muted"},[e("small",[t._v("* 30 day login numbers will not be accurate until Aug. 29")])]):t._e()])}),[],!1,null,null,null);n.default=v.exports}}]);
//# sourceMappingURL=activity-metrics.a6e1c6efbbc985aa79ef.js.map