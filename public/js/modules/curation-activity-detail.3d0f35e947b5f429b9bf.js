(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"SOX+":function(t,e,n){"use strict";var r={components:{PieChart:n("evv0").a},props:{assignments:{required:!0,type:Array}},data:function(){var t=this;return{volunteerFields:[{key:"volunteer.id",sortable:!0,label:"ID"},{key:"volunteer.first_name",sortable:!0,label:"First"},{key:"volunteer.last_name",sortable:!0,label:"Last"},{key:this.assignmentStatusPath,sortable:!0,label:"Status"},{key:"created_at",sortable:!0,label:"Date Assigned",formatter:function(e,n,r){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}},{key:"user_aptitude.trained_at",sortable:!0,label:"Date trained",formatter:function(e,n,r){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}}],currentPage:1,additionalTableFields:[]}},computed:{tableFields:function(){return this.volunteerFields.concat(this.additionalTableFields)},volunteers:function(){return this.assignments.map((function(t){return t.volunteer}))},volunteersByStatus:function(){return this.countVolunteersBy((function(t){return t.status?t.status.name:"Unknown"}))},volunteersByTimezone:function(){return this.countVolunteersBy((function(t){return t.volunteer.timezone}))},volunteersByCountry:function(){return this.countVolunteersBy((function(t){return t.volunteer.country?t.volunteer.country.name:"Unknown"}))},volunteersByRole:function(){return this.countVolunteersBy((function(t){return t.volunteer.application&&t.volunteer.application.self_description?t.volunteer.application.self_description.name:"Unknown"}))}},methods:{countVolunteersBy:function(t){var e={};return this.assignments.map((function(e){return t(e)})).forEach((function(t){e[t]||(e[t]=0),e[t]+=1})),e},navigateToVolunteer:function(t,e,n){window.location="/volunteers/".concat(t.volunteer.id)}}},a=n("KHd+"),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group-volonteer-info"},[n("div",{staticClass:"d-flex flex-wrap chart-container border-bottom mb-4"},[n("div",[n("div",{staticClass:"lead text-center"},[t._v("Assignment Status")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByStatus}})],1),t._v(" "),n("div",[n("div",{staticClass:"lead text-center"},[t._v("Timezones")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByTimezone}})],1),t._v(" "),n("div",[n("div",{staticClass:"lead text-center"},[t._v("Countries")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByCountry}})],1),t._v(" "),n("div",[n("div",{staticClass:"lead text-center"},[t._v("Self Description")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByRole}})],1)]),t._v(" "),n("div",[n("div",{staticClass:"clearfix"},[t.assignments.length>25?n("b-pagination",{staticClass:"float-right",attrs:{"total-rows":t.assignments.length,"per-page":25,"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1),t._v(" "),n("b-table",{attrs:{fields:t.tableFields,items:t.assignments,"per-page":25,"current-page":t.currentPage},on:{"row-clicked":t.navigateToVolunteer}}),t._v(" "),n("div",{staticClass:"clearfix"},[t.assignments.length>25?n("b-pagination",{staticClass:"float-right",attrs:{"total-rows":t.assignments.length,"per-page":25,"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)])}),[],!1,null,null,null);e.a=o.exports},XsVN:function(t,e,n){"use strict";n.r(e);var r={components:{GroupVolunteerInfo:n("SOX+").a},props:{initialGroup:{type:Object,default:function(){return{name:"loading...",assignments:[]}}}},data:function(){return{group:this.initalGroup,groupType:"Curation Activities",groupUrl:"/curation-activities/",additionalTableFields:[{key:"sub_assignments",label:"Curation groups",formatter:function(t){return t.map((function(t){return t.assignable.name})).join(", ")},sortable:!0}]}},watch:{initialGroup:{immediate:!0,handler:function(){this.group=this.initialGroup}}},methods:{}},a=n("KHd+"),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"d-flex justify-content-between"},[n("h3",{staticClass:"mb-0"},[n("a",{attrs:{href:"/"+t.groupUrl}},[t._v(t._s(t.groupType))]),t._v(" - "+t._s(t.group.name)+"\n            ")])])]},proxy:!0}])},[t._v(" "),n("section",[n("header",[n("h4",[t._v(t._s(t.group.assignments.length)+" Volunteers")])]),t._v(" "),n("group-volunteer-info",{attrs:{assignments:t.group.assignments}})],1)])}),[],!1,null,null,null);e.default=o.exports},evv0:function(t,e,n){"use strict";var r=n("MO+k"),a=n.n(r);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={props:{chartData:{type:Object,required:!0},options:{type:Object,default:function(){return{}}},title:{type:String}},data:function(){return{chart:null,colors:[],defaultConfig:{legend:{position:"left",display:!1}}}},watch:{chartData:{deep:!0,handler:function(){this.renderChart()}}},methods:{clearChart:function(){null!==this.chart&&this.chart.destroy()},renderChart:function(t,e){var n=this;this.clearChart();var r={type:"pie",data:{labels:Object.keys(this.chartData),datasets:[{label:"test",data:Object.values(this.chartData),backgroundColor:function(t){if(n.colors.length<Object.keys(n.chartData).length){if("unknown"==Object.keys(n.chartData)[t.dataIndex].toLowerCase())return void n.$set(n.colors,t.dataIndex,"rgba(100,100,100,.4)");n.$set(n.colors,t.dataIndex,n.generateRandomColor())}return n.colors[t.dataIndex]}}]},options:s(s({},this.defaultConfig),this.options)};this.chart=new a.a(this.$refs.chartCanvas.getContext("2d"),r)},generateRandomColor:function(t){for(var e=function(){return Math.floor(Math.random()*Math.floor(256))},n="rgba(".concat(e(),",").concat(e(),",").concat(e(),",0.4)");"rgba(100,100,100,0.4)"==n;)n="rgba(".concat(e(),",").concat(e(),",").concat(e(),",0.4)");return n}},mounted:function(){this.renderChart()}},u=n("KHd+"),c=Object(u.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart pie-chart"},[e("canvas",{ref:"chartCanvas"})])}),[],!1,null,null,null);e.a=c.exports}}]);
//# sourceMappingURL=curation-activity-detail.3d0f35e947b5f429b9bf.js.map