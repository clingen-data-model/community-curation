(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{IwVd:function(t,e,n){"use strict";n.r(e);var r={components:{GroupVolunteerInfo:n("SOX+").a},props:{initialGroup:{type:Object,default:function(){return{name:"loading...",curation_activity:{id:0,name:"loading..."},working_group:{id:0,name:"loading..."},accepting_volunteers:1,assignments:[]}}}},data:function(){return{group:this.initalGroup,groupType:"Curation Groups",groupUrl:"/curation-groups",adminBaseUrl:"/admin/curation-group",assignmentStatusPath:"status.name"}},watch:{initialGroup:{immediate:!0,handler:function(){this.group=this.initialGroup}}},methods:{}},a=n("KHd+"),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticClass:"curation-group-detail",scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"d-flex justify-content-between"},[n("h3",{staticClass:"mb-0"},[n("a",{attrs:{href:""+t.groupUrl}},[t._v(t._s(t.groupType))]),t._v(" - "+t._s(t.group.name)+"\n            ")]),t._v(" "),n("div",[null!==t.adminBaseUrl?n("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:t.adminBaseUrl+"/"+t.group.id+"/edit"}},[t._v("\n                    Edit\n                ")]):t._e()])])]},proxy:!0}])},[t._v(" "),n("section",{staticClass:"lead"},[n("dl",{staticClass:"row mb-0"},[n("dt",{staticClass:"col-md-4"},[t._v("Curation activity")]),t._v(" "),n("dd",{staticClass:"col-md-8"},[n("a",{attrs:{href:"/curation-activities/"+t.group.curation_activity.id}},[t._v(t._s(t.group.curation_activity.name))])]),t._v(" "),n("dt",{staticClass:"col-md-4"},[t._v("Working group")]),t._v(" "),n("dd",{staticClass:"col-md-8"},[t._v(t._s(t.group.working_group?t.group.working_group.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-4"},[t._v("Accepting Vollunteers")]),t._v(" "),n("dd",{staticClass:"col-md-8"},[t._v(t._s(t.group.accepting_volunteers?"Yes":"No"))]),t._v(" "),n("dt",{staticClass:"col-md-4"},[t._v("Url")]),t._v(" "),n("dd",{staticClass:"col-md-8"},[t._v(t._s(t.group.url?t.group.url:"--"))])])]),t._v(" "),n("section",[n("header",[n("h4",[t._v(t._s(t.group.assignments.length)+" Volunteers")])]),t._v(" "),t.group.assignments.length>0?n("group-volunteer-info",{attrs:{assignments:t.group.assignments}}):t._e()],1),t._v(" "),n("section",[n("header",[n("h4",[t._v("Notes")])]),t._v(" "),n("notes-list",{attrs:{"notable-type":"App\\\\CurationGroup","notable-id":t.group.id}})],1)])}),[],!1,null,null,null);e.default=o.exports},"SOX+":function(t,e,n){"use strict";var r=n("MO+k"),a=n.n(r);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={props:{chartData:{type:Object,required:!0},options:{type:Object,default:function(){return{}}},title:{type:String}},data:function(){return{chart:null,colors:[],defaultConfig:{legend:{position:"left",display:!1}}}},watch:{chartData:{deep:!0,handler:function(){this.renderChart()}}},methods:{renderChart:function(t,e){var n=this,r={type:"pie",data:{labels:Object.keys(this.chartData),datasets:[{label:"test",data:Object.values(this.chartData),backgroundColor:function(t){return n.colors.length<Object.keys(n.chartData).length&&n.$set(n.colors,t.dataIndex,"rgba(".concat(n.generateRandomColor(256),",").concat(n.generateRandomColor(256),",").concat(n.generateRandomColor(256),",0.4)")),n.colors[t.dataIndex]}}]},options:s(s({},this.defaultConfig),this.options)};this.chart=new a.a(this.$refs.chartCanvas.getContext("2d"),r)},generateRandomColor:function(t){return Math.floor(Math.random()*Math.floor(t))}},mounted:function(){this.renderChart()}},u=n("KHd+"),c={components:{PieChart:Object(u.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart pie-chart"},[e("canvas",{ref:"chartCanvas"})])}),[],!1,null,null,null).exports},props:{assignments:{required:!0,type:Array}},data:function(){var t=this;return{volunteerFields:[{key:"volunteer.id",sortable:!0,label:"ID"},{key:"volunteer.first_name",sortable:!0,label:"First"},{key:"volunteer.last_name",sortable:!0,label:"Last"},{key:this.assignmentStatusPath,sortable:!0,label:"Status"},{key:"created_at",sortable:!0,label:"Date Assigned",formatter:function(e,n,r){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}},{key:"user_aptitude.trained_at",sortable:!0,label:"Date trained",formatter:function(e,n,r){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}}],currentPage:1,additionalTableFields:[]}},computed:{tableFields:function(){return this.volunteerFields.concat(this.additionalTableFields)},volunteers:function(){return this.assignments.map((function(t){return t.volunteer}))},volunteersByStatus:function(){return this.countVolunteersBy((function(t){return t.status?t.status.name:"Unknown"}))},volunteersByTimezone:function(){return this.countVolunteersBy((function(t){return t.volunteer.timezone}))},volunteersByCountry:function(){return this.countVolunteersBy((function(t){return t.volunteer.country?t.volunteer.country.name:"Unknown"}))},volunteersByRole:function(){return this.countVolunteersBy((function(t){return t.volunteer.application&&t.volunteer.application.self_description?t.volunteer.application.self_description.name:"Unknown"}))}},methods:{countVolunteersBy:function(t){var e={};return this.assignments.map((function(e){return t(e)})).forEach((function(t){e[t]||(e[t]=0),e[t]+=1})),e},navigateToVolunteer:function(t,e,n){window.location="/volunteers/".concat(t.volunteer.id)}}},d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"group-volonteer-info"},[n("div",{staticClass:"d-flex flex-wrap chart-container border-bottom mb-4"},[n("div",[n("div",{staticClass:"lead text-center"},[t._v("Assignment Status")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByStatus}})],1),t._v(" "),n("div",[n("div",{staticClass:"lead text-center"},[t._v("Timezones")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByTimezone}})],1),t._v(" "),n("div",[n("div",{staticClass:"lead text-center"},[t._v("Countries")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByCountry}})],1),t._v(" "),n("div",[n("div",{staticClass:"lead text-center"},[t._v("Self Description")]),t._v(" "),n("pie-chart",{attrs:{"chart-data":t.volunteersByRole}})],1)]),t._v(" "),n("div",[n("div",{staticClass:"clearfix"},[t.assignments.length>25?n("b-pagination",{staticClass:"float-right",attrs:{"total-rows":t.assignments.length,"per-page":25,"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1),t._v(" "),n("b-table",{attrs:{fields:t.tableFields,items:t.assignments,"per-page":25,"current-page":t.currentPage},on:{"row-clicked":t.navigateToVolunteer}}),t._v(" "),n("div",{staticClass:"clearfix"},[t.assignments.length>25?n("b-pagination",{staticClass:"float-right",attrs:{"total-rows":t.assignments.length,"per-page":25,"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)])}),[],!1,null,null,null);e.a=d.exports}}]);
//# sourceMappingURL=curation-group-detail.c95237ab9ca1cafd4832.js.map