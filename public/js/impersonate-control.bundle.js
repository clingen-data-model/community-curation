(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"KHd+":function(e,t,n){"use strict";function r(e,t,n,r,o,s,a,i){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=i?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},UpOg:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),o=n.n(r);function s(e,t,n,r,o,s,a){try{var i=e[s](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}var a=function(){var e,t=(e=o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(sessionStorage.getItem("impersonatable-users"))){e.next=4;break}return e.next=4,window.axios.get("/api/impersonatable-users").then((function(e){t=e.data,sessionStorage.setItem("impersonatable-users",JSON.stringify(t))}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),i=n("fUiZ");function c(e,t,n,r,o,s,a){try{var i=e[s](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}var u={props:{},data:function(){return{users:[],selectedUser:{},showSelector:!1,showProgress:!1}},computed:{},methods:{impersonateSelected:function(){this.$emit("impersonated"),this.showProgress=!0,Object(i.a)(this.selectedUser.id)},getImpersonatableUsers:function(){var e,t=this;return(e=o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:t.users=e.sent;case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){c(s,r,o,a,i,"next",e)}function i(e){c(s,r,o,a,i,"throw",e)}a(void 0)}))})()}},mounted:function(){this.getImpersonatableUsers()}},l=n("KHd+"),d=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"btn btn-default btn-sm border",on:{click:function(t){e.showSelector=!e.showSelector}}},[e._v("Impersonate a user")]),e._v(" "),n("b-modal",{attrs:{title:"Impersonate another user"},on:{ok:e.impersonateSelected},model:{value:e.showSelector,callback:function(t){e.showSelector=t},expression:"showSelector"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedUser,expression:"selectedUser"}],staticClass:"form-control",attrs:{name:"impersonate_id"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedUser=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v("Select user...")]),e._v(" "),e._l(e.users,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name)+"\n                ")])}))],2)]),e._v(" "),n("b-modal",{attrs:{"hide-footer":"","hide-header":"","no-close-on-backdrop":"","no-close-on-escape":"","hide-header-close":""},model:{value:e.showProgress,callback:function(t){e.showProgress=t},expression:"showProgress"}},[n("h3",{staticClass:"text-center"},[e._v("Impersonating "+e._s(e.selectedUser.name)+".")]),e._v(" "),n("p",{staticClass:"text-center"},[e._v(" \n            The page will reload in a moment...\n        ")])])],1)}),[],!1,null,null,null);t.default=d.exports},fUiZ:function(e,t,n){"use strict";t.a=function(e){window.clearSessionStorage(),window.location.href="/impersonate/take/"+e}}}]);
//# sourceMappingURL=impersonate-control.bundle.js.map